<!DOCTYPE html>
<html data-root="../" data-entity='{"type":"class","id":977,"name":"Sqimitive.Base","start":{"line":4299,"column":2,"offset":168973},"end":{"line":7344,"column":2,"offset":283335},"forced":null,"modifiers":[],"file":"main.js"}'>
  <head>
    <meta charset="utf-8">
    <title>Base (in Sqimitive) – Sqimitive</title>
    <link rel="stylesheet" href="../styles.css">
  </head>
  <body>
    <script>orphus = {action: 'https://proger.me/orphus.php'}</script>
    <script src="https://proger.me/orphus.js"></script>

    
<nav class="qnbar">
  <a href="#" class="qnbar__locate" title="Hotkey: Alt+E">&larr; Locate</a>
  <a href="#">Top</a> of Sqimitive.Base  (<a href="?noframe" target="_blank">no frame</a>)
          <a class="qnbar__section"
       title=""
       href="#Sqimitive-Base--iv">
      Properties</a>
          <a class="qnbar__section"
       title=""
       href="#Sqimitive-Base--if">
      Methods</a>
  </nav>

  <div class="cp">
    <h1 class="entity-header">
      <span class="entity-header__type">
        Class
      </span>
              <span class="entity-header__ns">
          in
          <a href="../ns_Sqimitive.html">Sqimitive</a>        </span>
            <span class="entity-header__name">
        Base      </span>
    </h1>

    <code class="code_block">class Sqimitive.Base
    extends Core</code>

    <div class="entity-info">
      <div class="entity-info__synopsis fmt">
        Implements what makes Sqimitive <b>the</b> Sqimitive – options (<a href="../p_ov.html#-opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">opt</a>),
children (<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>) and filtering (<a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>) on top of <a href="../Sqimitive/c_Core.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">Core</a>, which provides
the f<span class="chemdoc__ellipsis">…</span>      </div>

      <p class="entity-info__file">
        Defined in:
        main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4300-L7345" target="_blank">lines 4300-7345</a> (3046 lines)      </p>

          </div>

          <fieldset class="cp-desc fmt">
        <legend>
          Description
          (<a href="#Sqimitive-Base--de">skip</a>)
        </legend>
        <p>Implements what makes Sqimitive <b>the</b> Sqimitive – options (<a href="../p_ov.html#-opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">opt</a>),
children (<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>) and filtering (<a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>) on top of <a href="../Sqimitive/c_Core.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">Core</a>, which provides
the fundamental event framework (<a href="../p_ov.html#-evt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evt</a>).</p><p>If you work with DOM then look for <a href="../Sqimitive/c_jQuery.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery</a>, which adds <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>
and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivelEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">elEvents</a>. If you want ordered children – use the
<a href="../Sqimitive/c_Ordered.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Sqimitive\Ordered</a> <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>.</p><fieldset class="chemdoc__example"><legend>Example</legend><p>It’s good practice to extend this class just once in your application and
use the new base class everywhere else:</p><ul><li>If Sqimitive’s class hierarchy or your needs change, you’d have to
change just one reference to <a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>.</li><li>You’re likely to implement some application-specific application-wise
logic sooner or later (such as logging) and it’s easily done if you
have just one base class (of course, you should not ever change
Sqimitive’s own prototypes).</li></ul><p><pre><code class="chemdoc__block prism language-javascript match-braces">var MyApp = {
  VERSION: '0.1',
}

MyApp.Sqimitive = Sqimitive.Base.extend()
// Or, if your application is DOM-based:
MyApp.Sqimitive = Sqimitive.jQuery.extend()

// Now use MyApp.Sqimitive as a base class throughout your code:
MyApp.ClassOne = MyApp.Sqimitive.extend(...)
MyApp.ClassTwo = MyApp.Sqimitive.extend(...)</code></pre></p></fieldset><p>Traditional OOP-style inheritance is not the only form of functionality
extension supported by Sqimitive. For multi-parent inheritance, aka
mix-ins, aka traits and for generics (parametrized mix-ins) see <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn()</a>.</p>      </fieldset>
      <a id="Sqimitive-Base--de"></a>
    
            <h2 id="Sqimitive-Base--iv"
            class="cp-member__group-header">
          Properties        </h2>
        <dl>
                      <dt id="Sqimitive-Base--iv_childClass"
                data-entity='{"type":"var","id":983,"name":"_childClass","start":{"line":4593,"column":4,"offset":179907},"end":null,"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_childClass</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-settable" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">settable</a></span></p><p><b>May be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a> and/or read/written directly on run-time.</b></p><p>Ensures <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> contains instances of a certain class only.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>Object to disable type checking</td><td rowspan="4" colspan="1"> Array and string are indirect declaration-time references
(<a href="../Sqimitive/c_Base.html#-classref" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">classref</a>).</td></tr><tr><td> Sqimitive.Base the default</td></tr><tr><td> array</td></tr><tr><td>
string </td></tr></table><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyToDoItem = Sqimitive.Base.extend()
var SpecialMyToDoItem = MyToDoItem.extend()

var MyToDoList = Sqimitive.Base.extend({
  _childClass: MyToDoItem,
})

;(MyToDoList).nest(new MyToDoItem)         // works (the _childClass)
;(MyToDoList).nest({})                     // throws an exception
;(MyToDoList).nest(new Sqimitive.Base)     // throws an exception
;(MyToDoList).nest(new SpecialMyToDoItem)  // works (subclass of _childClass)</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Disabling the check with <code class="chemdoc__id">Object</code>: <pre><code class="chemdoc__block prism language-javascript match-braces">var MyToDoList = Sqimitive.Base.extend({
  _childClass: Object,
})

;(MyToDoList).nest(new MyToDoItem)         // works
;(MyToDoList).nest({})                     // works
;(MyToDoList).nest(new Sqimitive.Base)     // works
;(MyToDoList).nest(new SpecialMyToDoItem)  // works</code></pre></fieldset><p>Other notes:</p><ul><li>Typically, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> specifies a subclass of <code>Sqimitive.Core</code>
(<a href="../Sqimitive/c_Core.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">Core</a>) since non-sqimitives are unlikely to work properly as children.
This is not checked though.</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> constraint is enforced as long as children are added via
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a> and other standard methods, not by direct manipulation of
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> (which is highly discouraged anyway).</li><li>Changing <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> on run-time affects only new nesting attempts
(existing children are not validated).</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> is listed in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sv_shareProps" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_static mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_shareProps</a> by default.</li></ul><h3 id="-classref" class="chemdoc__h1 chemdoc__anchored">Indirect references<a class="chemdoc__anchor chemdoc__header-anchor" href="#-classref">classref</a></h3><p>It’s often convenient to provide <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> as an array or string to
<a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn()</a>. In this case <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> resolves the value of
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> to the actual class, once per instantiation of every class
(this makes it tad slower than providing an object value):</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Members</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="1">array</th><td>like <code>[BaseObject, 'Sub.Class.Path']</code> </td><td rowspan="1" colspan="1"> Same as evaluating
<code>BaseClass.Sub.Class.Path</code></td></tr><tr class="chemdoc__first"><th rowspan="1">string</th><td>like <code>'Sub.Class.Path'</code> </td><td rowspan="1" colspan="1"> Relative to static properties of
<code class="chemdoc__id">this</code></td></tr><tr class="chemdoc__first"><th rowspan="1">string</th><td>empty <code>''</code> </td><td rowspan="1" colspan="1"> The class of <code class="chemdoc__id">this</code></td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> errors if no class was found.</p><fieldset class="chemdoc__example"><legend>Example</legend>Indirect references are useful for “forward type declaration” where the
child class is defined after the collection’s class or appears later on
run-time:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyToDo = {}

MyToDo.List = Sqimitive.Base.extend({
  _childClass: [MyToDo, 'Item'],
})

MyToDo.Item = Sqimitive.Base.extend()</code></pre>
Or for the conventional Sqimitive hierarchy of <code>&lt;Collection&gt;.&lt;Child&gt;</code>:
<pre><code class="chemdoc__block prism language-javascript match-braces">MyToDo.List = Sqimitive.Base.extend({
  // All declarations below are equivalent:
  _childClass: [MyToDo, 'List.Item'],
  _childClass: [MyToDo.List, 'Item'],
  _childClass: 'Item',
})

MyToDo.List.Item = Sqimitive.Base.extend()

alert(MyToDo.List.prototype._childClass)                   //=&gt; 'Item'
alert((new MyToDo.List)._childClass == MyToDo.List.Item)   //=&gt; true</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_childClass---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4594-L4594" target="_blank">line 4594</a>                                  &bull; <a href="#Sqimitive-Base--iv_childClass---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_childClass: null,</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_childEvents"
                data-entity='{"type":"var","id":984,"name":"_childEvents","start":{"line":4726,"column":4,"offset":185000},"end":null,"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_childEvents</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-settable" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">settable</a></span></p><p><b>May be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a> and/or read/written directly on run-time.</b></p><p>Lists event names for automatic <a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_forward" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_forward</a>’ing from children to the
collection object.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>array </td><td rowspan="1" colspan="1"> <code>['-nest_', 'change', ...]</code></td></tr></table><p>Whenever a new child is <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a>’ed, listens to these events on it,
firing events on <code class="chemdoc__id">this</code> with the same name but prefixed with a dot <code>.</code>
(e.g. <code class="chemdoc__id">render</code> → <code>.render</code>) and with the child’s object pushed in front
of the event’s arguments. Think of this as of the usual <code>../../path</code>
notation in file systems where each dot means “one [parent] above”.</p><p>Nothing special is done to stop listening when a child is removed since
the default <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> implementation calls <code>child.off(this)</code> (see
<a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifoff" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">off</a>).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyList = Sqimitive.Base.extend({
  _childEvents: ['-change'],

  events: {
    '.-change': function (sqim, name) {
      alert('Option ' + name + ' is about to change on ' + sqim._cid)
    },
  },
})</code></pre></fieldset><p>Warning: don’t list <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest</a> here – <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> will <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifoff" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">off()</a> itself before
that and never receive the notification. Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested</a> instead. Using
<code>-unnest</code> is also possible but in this case if an exception occurs during
unnesting your handler won’t know this and will be called anyway, while
the child is possibly left nested.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inMergePropsA" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inMergePropsA</a></span></p><p>This property is listed in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sv_mergeProps" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_static mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_mergeProps</a> by default so subclass defining it adds to its parent’s values instead of overwriting the array entirely.</p><p>Other notes:</p><ul><li><a id="-chevaoff" class="chemdoc__anchor chemdoc__anchor_token" href="#-chevaoff">chevaoff</a>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a> to track events of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>; use <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifautoOff" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">autoOff()</a> to
track events of the outside objects.</li><li>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a> is changed on run-time, only new children are
affected.</li><li>For the impementation see <a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_forward" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_forward()</a>.</li><li>See Children overview (<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>) for a comprehensive example.</li></ul><fieldset class="chemdoc__example"><legend>Example</legend>Using <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a> is identical to manually calling <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifon" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">on()</a> but more
convenient. However, since it’s <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifon" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">on()</a> in disguise, you can use any
event prefixes (<a href="../Sqimitive/c_Core.html#-evtpf" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">evtpf</a>), specify methods that will be automatically
turned into events (<a href="../p_ov.html#-evt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evt</a>), etc.
<pre><code class="chemdoc__block prism language-javascript match-braces">var Collection = Sqimitive.Base.extend({
  _childEvents: ['=click'],

  _opt: {
    enabled: true,
  },

  events: {
    '.=click': function (child, sup) {
      if (this.get('enabled')) {
        return sup(this, arguments)
      } else {
        console.error('Clicking is disabled! Stop playing, ' + child._cid)
      }
    },

    '-unnested': function (child) {
      child.off(this)
    },
  },
})

var Item = Sqimitive.Base.extend({
  click: function () { alert('Oh... feels good!') },
})

var col = new Collection
var item = new Item
item.click()    // alerts; click is a method
col.nest(item)
  // item.click is no longer the original method but the wrapping handler
item.click()    // alerts
col.set('enabled', false)
item.click()    // no more alerts
col.unlist(item)
item.click()    // alerts again; click is again the original method</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>You can forward already forwarded events with multi-level nesting
(children of children of your collection) the same way. The number of
dots indicates the number of child instances prepended to event’s
arguments: <pre><code class="chemdoc__block prism language-javascript match-braces">var MyListGroup = Sqimitive.Base.extend({
  // Indicate this object nests MyList instances from the first
  // example.
  _childClass: MyList,

  // MyList forwards '-change' on its children as '.-change' on itself
  // so we can foward that event too on this grouping instance.
  // There's no limit - '....-change' is perfectly fine and works on
  // 4th nesting level. Each forward gets originating object pushed in
  // front so '..-change' gets MyList as first argument. '...-change'
  // would get (MyListGroup, MyList).
  _childEvents: ['.-change'],
})

// Listening to '-change' that occurred on a MyList child, with MyList
// being nested into MyListGroup.
;(new MyListGroup).on('..-change', function (myListGroup, myList) { ... })</code></pre><p>And of course you can use the usual event prefixes (<a href="../Sqimitive/c_Core.html#-evtpf" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">evtpf</a>) on these
already-forwarded events:
<pre><code class="chemdoc__block prism language-javascript match-braces">// Trigger event on this before other handlers of '.-change'.
_childEvents: ['-.+normalize'],

// ...

;(new MyListGroup)
  .on('.-.+normalize_caption', function (myListGroup, myList,
                                         currentResult, newValue) {
    return newValue.trim()
  })</code></pre></p></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_childEvents---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4727-L4727" target="_blank">line 4727</a>                                  &bull; <a href="#Sqimitive-Base--iv_childEvents---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_childEvents: [],</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_children"
                data-entity='{"type":"var","id":981,"name":"_children","start":{"line":4456,"column":4,"offset":174404},"end":{"line":4456,"column":16,"offset":174416},"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_children</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Holds references to objects contained within this instance
(“collection”).</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object {key: Sqimitive} </td><td rowspan="1" colspan="1"> Keys are arbitrary strings as given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest</a>
(<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a>-s if <code class="chemdoc__id">this</code> is <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>) and values are the children
themselves (objects).</td></tr></table><p>You’re advised against accessing <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> at all. Instead, use
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nested()</a> and other methods.</p><p>Other notes:</p><ul><li>Both <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> sqimitives and not list their children here. For
non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> keys naturally differ from <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> of
their children.</li><li>This parent-child relationship is purely formal and doesn’t dictate any
DOM or other structure (children can have their <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>-s outside of the
parent’s node). Moreover, if <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> is unset then it doesn’t imply
the reverse relationship (from children to their parent).</li><li>See the children overview (<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>) for examples.</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_children---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4457-L4457" target="_blank">line 4457</a>                                  &bull; <a href="#Sqimitive-Base--iv_children---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_children: {},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_initToOpt"
                data-entity='{"type":"var","id":986,"name":"_initToOpt","start":{"line":4963,"column":4,"offset":193654},"end":{"line":4963,"column":26,"offset":193676},"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_initToOpt</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-setOnDecl" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">setOnDecl</a></span></p><p><b>May only be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>.</b></p><p>Specifies <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> rules for transforming <code class="chemdoc__id">opt</code> given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a>
(<code class="chemdoc__id">new</code>) into <code class="chemdoc__id">this</code>.<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_initToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_initToOpt</a> is the <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>’s schema used by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a>. <a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s
value directly merges the <code class="chemdoc__id">opt</code> object into own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>, ignoring <code class="chemdoc__id">el</code>.
<code class="chemdoc__id">el</code> by convention is meant to replace the declared class value, possibly
mutated (see <a href="../Sqimitive/c_jQuery.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">jQuery</a>, for example).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var My = Sqimitive.Base.extend({
  _initToOpt: {context: false},
  _context: null,

  events: {
    init: function (opt) {
      this._context = opt.context
    },
  },
})

// Or, shorter:
var My = Sqimitive.Base.extend({
  _initToOpt: {context: '._context'},
  _context: null,
})

var my = new My({context: cx})
  //=&gt; my._opt = {}
  //=&gt; my._context = cx</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Keeping <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> clean by assigning only whitelisted keys:
<pre><code class="chemdoc__block prism language-javascript match-braces">var My = Sqimitive.Base.extend({
  _opt: {
    quux: 'initial',
  },

  // Thanks to _mergeProps, _initToOpt keys are merged with Base's.
  _initToOpt: {
    foo: true,        // set foo under _opt.foo
    bar: 'newBar',    // set bar under _opt.newBar
    // By default, assignResp() copies unlisted keys as is.
    '': function (opt, options) { options.onlyDefined = true },
  },
})

new My({quux: 0, foo: 1, bar: 2, baz: 3, el: 4})
  //=&gt; _opt = {quux: 'initial', foo: 1, newBar: 2}
  //
  // 1. Keeps class' value for quux (because of onlyDefined)
  // 2. Takes foo
  // 3. Renames bar to newBar
  // 4. Ignores baz (because of onlyDefined)
  // 5. And el (because of {el: false} inherited from Base)</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-rtobase" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">rtobase</a></span></p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object {respKey: optValue}.</td><td rowspan="1" colspan="1"></td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a>’s keys are input object’s keys (except the special <code>''</code>)
and values are one of the following (<code class="chemdoc__id">optValue</code>):</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Members</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="1">false</th><td rowspan="1" colspan="2"> Skip input item regardless of <code>options.onlyDefined</code> as given
to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</td></tr><tr class="chemdoc__first"><th rowspan="1">true</th><td rowspan="1" colspan="2"> Assign input item’s value to the option named <code class="chemdoc__id">respKey</code> (i.e.
keys of the option and the input object are the same).</td></tr><tr class="chemdoc__first"><th rowspan="1">string</th><td rowspan="1" colspan="2"> Assign input item’s value to the option by this name. If
begins with <code>.</code>, assign directly to a property on <code class="chemdoc__id">this</code> (if sole <code>.</code>
then assign to property named <code class="chemdoc__id">respKey</code>) – typically used for public
read-only properties.</td></tr><tr class="chemdoc__first"><th rowspan="1">function</th><td>(respValue, key, resp, options) </td><td rowspan="1" colspan="1"> Input item transformation.
This function is called in <code class="chemdoc__id">this</code> context and must return
<code>[false|'optToSet|.[prop]', value]</code> or falsy (equals <code>[false]</code>),
with the first member treated as above.<p><code class="chemdoc__id">respKey</code> only determines the <code class="chemdoc__id">respValue</code> given to this function; the
latter can access the entire input object (<code class="chemdoc__id">resp</code>). The (new) option’s
name is retrieved from the returned array (<code class="chemdoc__id">optToSet</code>), not from
<code class="chemdoc__id">respKey</code>.</p><p>The <code class="chemdoc__id">key</code> argument equals <code class="chemdoc__id">respKey</code> (i.e. is the key’s name under which
the function is listed in <code class="chemdoc__id">_respToOpt</code>), <code class="chemdoc__id">options</code> is the object given
to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</p><p>If <code class="chemdoc__id">optToSet</code> is <code class="chemdoc__id">false</code> then the input item is skipped and <code class="chemdoc__id">value</code> is
unused, otherwise it’s the option name to set <code class="chemdoc__id">value</code> to (<code class="chemdoc__id">value</code> can be
of any type). It’s similar to calling <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> but more declarative and
future-proof.</p></td></tr></table><p>The special key <code>''</code> (empty string) must be a function <code>(resp,
options)</code> returning object <code>{optToSet: value}</code> or <code class="chemdoc__id">null</code> (equivalent
to <code>{}</code>). It’s called in the beginning of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> and, as other
keys, if <code class="chemdoc__id">resp</code> has an empty string key – check <code>arguments.length</code> if
you expect it. This key is useful for unserializing fields that match
multiple options or vice-versa:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {
    '': function (resp) {
      return {personsName: resp.firstName + ' ' + resp.secondName}
        // same as set('personsName', '&lt;firstName&gt; &lt;secondName&gt;')
    }

    // The opposite of the above - if there are two options in one
    // input key.
    '': function (resp) {
      var name = resp.personsName.split(' ')
      return {firstName: name[0], secondName: name[1]}
    }
  },
})</code></pre></p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {setAsIs: true, setAsFoo: 'Foo'},
})

// ...

sqim.assignResp({setAsIs: 123, setAsFoo: 'xyz'})
  // sqim._opt is {setAsIs: 123, Foo: 'xyz'}

// Equivalent to:
sqim.set('setAsIs', 123)
sqim.set('Foo', 'xyz')</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Using transformation functions:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {
    ignore: function () { return [false] },
    rename: function (value) { return ['foo', value] },
    date: function (value) { return ['date', new Date(value)] },
    merge: function (v, k, resp, options) {
      // v = 5, k = 'merge', resp = {unlisted: ...}, options = {}
      return ['bar', resp.a.concat(resp.b)
    },
    setUndefined: function () { return ['baz', undefined] },
  }
})

// ...

sqim.assignResp({unlisted: 1, ignore: 2, rename: 3, date: 4,
                 merge: 5, a: 6, b: 7, setUndefined: 8})
  // sqim._opt is {foo: 2, date: Date, bar: [6, 7], baz: undefined}</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p>Keys are restored in arbitrary order except <code>''</code> is always called first.
The below example is buggy because <code class="chemdoc__id">object</code> may be called before
<code class="chemdoc__id">objects</code>, when <code>this.objects</code> is not yet unserialized:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  objects: null,   // some kind of collection
  object: null,    // a member of objects

  _respToOpt: {
    objects: function (list) {
      this.objects.assignChildren(list)
    },
    object: function (key) {
      this.object = this.objects.nested(key)
    },
  },
})</code></pre>
<code class="chemdoc__id">objects</code> must be restored from within <code>''</code>:
<pre><code class="chemdoc__block prism language-javascript match-braces">_respToOpt: {
  '': function (resp) {
    this.objects.assignChildren(resp.objects)
  },
  object: function (key) {
    // As before.
  },
},</code></pre>
This has to be done even if <code class="chemdoc__id">objects</code> assignment is simple:
<pre><code class="chemdoc__block prism language-javascript match-braces">  // WRONG:
  _respToOpt: {
    objects: true,
    object: function (key) {
      this.object = this.objects[key]
    },
  },

  // WRONG:
  _respToOpt: {
    // No objects key = true if onlyDefined is false (as it is by default).

    object: function (key) {
      this.object = this.objects[key]
    },
  },

assignResp({objects: {k: ...}, object: 'k'}, {onlyDefined: false})</code></pre></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inMergeProps" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inMergeProps</a></span></p><p>This property is listed in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sv_mergeProps" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_static mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_mergeProps</a> by default so subclass defining it adds to its parent’s object instead of overwriting it entirely (but identical keys are still overwritten).</p><p>Other notes:</p><ul><li>Options are assigned with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> so normalization and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> events
take place as usual.</li><li>Missing keys may or may not become options by the same name – this
depends on the <code>options.onlyDefined</code> flag of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</li><li>Leading <code>.</code> has no effect on <code class="chemdoc__id">respKey</code>-s missing from <code class="chemdoc__id">schema</code>: they are
always either ignored (<code>!onlyDefined</code>) or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>: <pre><code class="chemdoc__block prism language-javascript match-braces">sqim.assignResp({'.x': 1, '.y': 2}, {schema: {'.x': true}})
  //=&gt; sqim.x is 1, sqim._opt['.y'] is 2
sqim.assignResp({'.x': 1, '.y': 2}, {schema: {'.x': true}, onlyDefined: false})
  //=&gt; sqim.x is 1, sqim._opt['.y'] is unchanged</code></pre></li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_initToOpt---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4964-L4964" target="_blank">line 4964</a>                                  &bull; <a href="#Sqimitive-Base--iv_initToOpt---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_initToOpt: {el: false},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_opt"
                data-entity='{"type":"var","id":978,"name":"_opt","start":{"line":4374,"column":4,"offset":171616},"end":{"line":4374,"column":11,"offset":171623},"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_opt</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p><b>May be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>, read
on run-time with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a> and written with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>.</b></p><p>List of “<a href="../p_ov.html#-opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">opt</a>’ions” (public properties) of this instance.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object {name: value} </td><td rowspan="1" colspan="1"> Keys are option names and values are anything,
of arbitrary type.</td></tr></table><p>On run-time, use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> to access this data (both from within
this class’ methods and from the outside – it’s a public interface).</p><p>When any option’s value is changed, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet</a>:</p><ul><li>Fires the <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> event to allow for value normalization and
validation.</li><li>If no error occurred, changes the value in <code>this._opt</code> and fires
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> to notify the interested parties.</li></ul><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var Parent = Sqimitive.Base.extend({
  _opt: {caption: 'unnamed'},

  events: {
    '+normalize_caption': function (res, s) {
      return s.trim()
    },

    change: function (optName, newValue) {
      alert(optName + '=' + newValue)
    },
  },
})

var Child = Parent.extend({
  _opt: {body: 'unbodied'},

  events: {
    change_caption: function (newValue) {
      alert('New caption = ' + newValue)
    },
  },
})

var child = new Child
  // child._opt = {caption: 'unnamed', body: 'unbodied'}

child.set('caption', 'Foo')
  // alerts: New caption = foo   - Child's change_caption handler
  // alerts: caption=foo         - Parent's change handler

child.set('body', 'Bar')
  // alerts: body=foo            - Parent's change handler

child.set('caption', ' S P A C E ')
  // _opt.caption  = 'S P A C E'
child.set('body',    ' S P A C E ')
  // _opt.body     = ' S P A C E '</code></pre></fieldset><p>When given to <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">extend()</a>, the <code class="chemdoc__id">_opt</code> key specifies initial options (their
defaults) for new instances.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inMergeProps" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inMergeProps</a></span></p><p>This property is listed in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sv_mergeProps" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_static mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_mergeProps</a> by default so subclass defining it adds to its parent’s object instead of overwriting it entirely (but identical keys are still overwritten).</p><p>It’s highly advised to access <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’s values only via <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> -
performance benefits of direct access are questionable (especially when
those methods are not events/<a href="../Sqimitive/c_Core.html#Sqimitive-Core--sffirer" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">firer</a>-s, i.e. almost always) while lack of
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> and others often cause bugs.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inBB" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inBB</a></span></p><h3 id="A3afe424096" class="chemdoc__h0">In Backbone…</h3><p>In Backbone terms “options” are called <a href="https://backbonejs.org/#Model-attributes" class="chemdoc__custom-link chemdoc__proto-bb" target="_blank">bb:Model-attributes</a>.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_opt---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4375-L4375" target="_blank">line 4375</a>                                  &bull; <a href="#Sqimitive-Base--iv_opt---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_opt: {},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_owning"
                data-entity='{"type":"var","id":982,"name":"_owning","start":{"line":4505,"column":4,"offset":176329},"end":null,"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_owning</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-setOnDecl" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">setOnDecl</a></span></p><p><b>May only be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>.</b></p><p>Specifies if this object manages its children or not (by default it
does).</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>true the default </td><td rowspan="1" colspan="1"> “Managing” (owning) parent. All of its children know
who owns them (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>) and under which key (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a>). It makes
sure the children only ever have one parent – itself, and that they
cannot duplicate in its <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>. Essentially makes a bi-directional
tree.</td></tr><tr class="chemdoc__first"><td>false </td><td rowspan="1" colspan="1"> Unmanaged (non-owning) parent. Acts as a simple collection.
Imposes no hierarchy onto its children, who do not even know that they
are listed here and may duplicate in <code class="chemdoc__id">this</code> own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> (same child
under different keys).</td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> only affects a subset of features (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a>, etc.). Most
features – filtering (<a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>), <a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_forward" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_forward</a>’ing <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a>, etc. can be
used in both modes.</p><p>See <a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a> children overview for more details.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var Owning = Sqimitive.Base.extend()

var NonOwning = Sqimitive.Base.extend({
  _owning: false,
})

var child = new Sqimitive.Base
var owning = new Owning
var nonOwning = new NonOwning
owning.nest('key', child)
nonOwning.nest('key2', child)
alert(child._parent == owning)             //=&gt; true
alert(child._parentKey)                    //=&gt; 'key'
alert(owning.nested('key') == child)       //=&gt; true
alert(nonOwning.nested('key'))             //=&gt; undefined
alert(nonOwning.nested('key2') == child)   //=&gt; true

var owning2 = new Owning
owning2.nest('key3', child)
  // child._parent == owning2, _parentKey == 'key3'
alert(owning.nested('key'))                //=&gt; undefined</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_owning---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4506-L4506" target="_blank">line 4506</a>                                  &bull; <a href="#Sqimitive-Base--iv_owning---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_owning: true,</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_parent"
                data-entity='{"type":"var","id":979,"name":"_parent","start":{"line":4407,"column":4,"offset":172684},"end":null,"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_parent</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-readOnly" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">readOnly</a></span></p><p><b>May only be read, not changed.</b></p><p>Holds the reference to the Sqimitive that owns object, or <code class="chemdoc__id">null</code>.</p><p>You can read this property from inside methods of the same class.
Changing it (from any context) is highly discouraged because it’s easy to
break object integrity – use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> and others.</p><p><a id="-parentAndKey" class="chemdoc__anchor chemdoc__anchor_token" href="#-parentAndKey">parentAndKey</a>Non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> sqimitives never change <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> of their
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extends({
  events: {
    owned: function () {
      // CORRECT: reading _parent from within this class' context:
      alert('New parent is ' + this._parent._cid)
      alert('My key under my parent is ' + this._parentKey)
      // WRONG: do not change _parent:
      this._parent = null
    },
  },
})

// WRONG: do not access _parent from the outside:
alert(sqim._parent._cid)</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_parent---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4408-L4408" target="_blank">line 4408</a>                                  &bull; <a href="#Sqimitive-Base--iv_parent---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_parent: null,</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_parentKey"
                data-entity='{"type":"var","id":980,"name":"_parentKey","start":{"line":4431,"column":4,"offset":173360},"end":null,"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_parentKey</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-readOnly" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">readOnly</a></span></p><p><b>May only be read, not changed.</b></p><p>Holds the key under which this instance is listed in its <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>’s list
of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>, or <code class="chemdoc__id">null</code>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>string if owned</td><td rowspan="2" colspan="1"> If <code class="chemdoc__id">null</code> then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> is also <code class="chemdoc__id">null</code></td></tr><tr><td> null if not </td></tr></table><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-parentAndKey" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">parentAndKey</a></span></p><p>Non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> sqimitives never change <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> of their
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extends({
  events: {
    owned: function () {
      // CORRECT: reading _parent from within this class' context:
      alert('New parent is ' + this._parent._cid)
      alert('My key under my parent is ' + this._parentKey)
      // WRONG: do not change _parent:
      this._parent = null
    },
  },
})

// WRONG: do not access _parent from the outside:
alert(sqim._parent._cid)</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>This key can be given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nested()</a> and others:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extends({
  pull: function () {
    this._parent.unlist(this._parentKey)
      // this is a contrived example since this.remove() does
      // exactly the same
  },
})</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_parentKey---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4432-L4432" target="_blank">line 4432</a>                                  &bull; <a href="#Sqimitive-Base--iv_parentKey---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_parentKey: null,</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iv_respToOpt"
                data-entity='{"type":"var","id":985,"name":"_respToOpt","start":{"line":4898,"column":4,"offset":191619},"end":{"line":4898,"column":17,"offset":191632},"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_respToOpt</b>
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-settable" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">settable</a></span></p><p><b>May be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a> and/or read/written directly on run-time.</b></p><p>Specifies rules for transforming an external input object (e.g. an API
response) into <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ions used by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</p><p>See also <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_initToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_initToOpt</a> that is used to assign <code class="chemdoc__id">opt</code> given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a>
(<code class="chemdoc__id">new</code>) to <code class="chemdoc__id">this</code>.<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><a id="-rtobase" class="chemdoc__anchor chemdoc__anchor_token" href="#-rtobase">rtobase</a>object {respKey: optValue}.</td><td rowspan="1" colspan="1"></td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a>’s keys are input object’s keys (except the special <code>''</code>)
and values are one of the following (<code class="chemdoc__id">optValue</code>):</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Members</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="1">false</th><td rowspan="1" colspan="2"> Skip input item regardless of <code>options.onlyDefined</code> as given
to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</td></tr><tr class="chemdoc__first"><th rowspan="1">true</th><td rowspan="1" colspan="2"> Assign input item’s value to the option named <code class="chemdoc__id">respKey</code> (i.e.
keys of the option and the input object are the same).</td></tr><tr class="chemdoc__first"><th rowspan="1">string</th><td rowspan="1" colspan="2"> Assign input item’s value to the option by this name. If
begins with <code>.</code>, assign directly to a property on <code class="chemdoc__id">this</code> (if sole <code>.</code>
then assign to property named <code class="chemdoc__id">respKey</code>) – typically used for public
read-only properties.</td></tr><tr class="chemdoc__first"><th rowspan="1">function</th><td>(respValue, key, resp, options) </td><td rowspan="1" colspan="1"> Input item transformation.
This function is called in <code class="chemdoc__id">this</code> context and must return
<code>[false|'optToSet|.[prop]', value]</code> or falsy (equals <code>[false]</code>),
with the first member treated as above.<p><code class="chemdoc__id">respKey</code> only determines the <code class="chemdoc__id">respValue</code> given to this function; the
latter can access the entire input object (<code class="chemdoc__id">resp</code>). The (new) option’s
name is retrieved from the returned array (<code class="chemdoc__id">optToSet</code>), not from
<code class="chemdoc__id">respKey</code>.</p><p>The <code class="chemdoc__id">key</code> argument equals <code class="chemdoc__id">respKey</code> (i.e. is the key’s name under which
the function is listed in <code class="chemdoc__id">_respToOpt</code>), <code class="chemdoc__id">options</code> is the object given
to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</p><p>If <code class="chemdoc__id">optToSet</code> is <code class="chemdoc__id">false</code> then the input item is skipped and <code class="chemdoc__id">value</code> is
unused, otherwise it’s the option name to set <code class="chemdoc__id">value</code> to (<code class="chemdoc__id">value</code> can be
of any type). It’s similar to calling <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> but more declarative and
future-proof.</p></td></tr></table><p>The special key <code>''</code> (empty string) must be a function <code>(resp,
options)</code> returning object <code>{optToSet: value}</code> or <code class="chemdoc__id">null</code> (equivalent
to <code>{}</code>). It’s called in the beginning of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> and, as other
keys, if <code class="chemdoc__id">resp</code> has an empty string key – check <code>arguments.length</code> if
you expect it. This key is useful for unserializing fields that match
multiple options or vice-versa:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {
    '': function (resp) {
      return {personsName: resp.firstName + ' ' + resp.secondName}
        // same as set('personsName', '&lt;firstName&gt; &lt;secondName&gt;')
    }

    // The opposite of the above - if there are two options in one
    // input key.
    '': function (resp) {
      var name = resp.personsName.split(' ')
      return {firstName: name[0], secondName: name[1]}
    }
  },
})</code></pre></p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {setAsIs: true, setAsFoo: 'Foo'},
})

// ...

sqim.assignResp({setAsIs: 123, setAsFoo: 'xyz'})
  // sqim._opt is {setAsIs: 123, Foo: 'xyz'}

// Equivalent to:
sqim.set('setAsIs', 123)
sqim.set('Foo', 'xyz')</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Using transformation functions:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {
    ignore: function () { return [false] },
    rename: function (value) { return ['foo', value] },
    date: function (value) { return ['date', new Date(value)] },
    merge: function (v, k, resp, options) {
      // v = 5, k = 'merge', resp = {unlisted: ...}, options = {}
      return ['bar', resp.a.concat(resp.b)
    },
    setUndefined: function () { return ['baz', undefined] },
  }
})

// ...

sqim.assignResp({unlisted: 1, ignore: 2, rename: 3, date: 4,
                 merge: 5, a: 6, b: 7, setUndefined: 8})
  // sqim._opt is {foo: 2, date: Date, bar: [6, 7], baz: undefined}</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p>Keys are restored in arbitrary order except <code>''</code> is always called first.
The below example is buggy because <code class="chemdoc__id">object</code> may be called before
<code class="chemdoc__id">objects</code>, when <code>this.objects</code> is not yet unserialized:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  objects: null,   // some kind of collection
  object: null,    // a member of objects

  _respToOpt: {
    objects: function (list) {
      this.objects.assignChildren(list)
    },
    object: function (key) {
      this.object = this.objects.nested(key)
    },
  },
})</code></pre>
<code class="chemdoc__id">objects</code> must be restored from within <code>''</code>:
<pre><code class="chemdoc__block prism language-javascript match-braces">_respToOpt: {
  '': function (resp) {
    this.objects.assignChildren(resp.objects)
  },
  object: function (key) {
    // As before.
  },
},</code></pre>
This has to be done even if <code class="chemdoc__id">objects</code> assignment is simple:
<pre><code class="chemdoc__block prism language-javascript match-braces">  // WRONG:
  _respToOpt: {
    objects: true,
    object: function (key) {
      this.object = this.objects[key]
    },
  },

  // WRONG:
  _respToOpt: {
    // No objects key = true if onlyDefined is false (as it is by default).

    object: function (key) {
      this.object = this.objects[key]
    },
  },

assignResp({objects: {k: ...}, object: 'k'}, {onlyDefined: false})</code></pre></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inMergeProps" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inMergeProps</a></span></p><p>This property is listed in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sv_mergeProps" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_static mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_mergeProps</a> by default so subclass defining it adds to its parent’s object instead of overwriting it entirely (but identical keys are still overwritten).</p><p>Other notes:</p><ul><li>Options are assigned with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> so normalization and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> events
take place as usual.</li><li>Missing keys may or may not become options by the same name – this
depends on the <code>options.onlyDefined</code> flag of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>.</li><li>Leading <code>.</code> has no effect on <code class="chemdoc__id">respKey</code>-s missing from <code class="chemdoc__id">schema</code>: they are
always either ignored (<code>!onlyDefined</code>) or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>: <pre><code class="chemdoc__block prism language-javascript match-braces">sqim.assignResp({'.x': 1, '.y': 2}, {schema: {'.x': true}})
  //=&gt; sqim.x is 1, sqim._opt['.y'] is 2
sqim.assignResp({'.x': 1, '.y': 2}, {schema: {'.x': true}, onlyDefined: false})
  //=&gt; sqim.x is 1, sqim._opt['.y'] is unchanged</code></pre></li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iv_respToOpt---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4899-L4899" target="_blank">line 4899</a>                                  &bull; <a href="#Sqimitive-Base--iv_respToOpt---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_respToOpt: {},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ivel"
                data-entity='{"type":"var","id":988,"name":"el","start":{"line":4982,"column":4,"offset":194333},"end":null,"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>el</b>
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-settable" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">settable</a></span></p><p><b>May be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a> and/or read/written directly on run-time.</b></p><p>“Element” – an external “form” of this Sqimitive (such as a DOM node).</p><p>Even though this is technically a public read/write property, it’s
usually best not to change it on run-time (after initialization) or at
least not from the outside context.</p><p><a id="-elstub" class="chemdoc__anchor chemdoc__anchor_token" href="#-elstub">elstub</a><a href="../Sqimitive/c_Base.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Sqimitive\Base</a> doesn’t define any element-related functionality but
only provides stubs for several common fields (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a>,
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a>, etc.) for standardized extension. See <a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ivel" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.el</a>
for one such subclass.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ivel---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L4983-L4983" target="_blank">line 4983</a>                                  &bull; <a href="#Sqimitive-Base--ivel---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">el: false,</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ivelEvents"
                data-entity='{"type":"var","id":989,"name":"elEvents","start":{"line":5020,"column":4,"offset":195673},"end":{"line":5020,"column":15,"offset":195684},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>elEvents</b>
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-setOnDecl" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">setOnDecl</a></span></p><p><b>May only be set upon declaration via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfextend" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">Core::extend()</a> or <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>.</b></p><p>Declares event listeners for <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>, bound automatically by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifattach" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">attach()</a>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Value Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object {event: func}</td><td rowspan="1" colspan="1"></td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivelEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">elEvents</a>’ format is consistent among <a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s subclasses and follows
Backbone’s <a href="https://backbonejs.org/#Model-events" class="chemdoc__custom-link chemdoc__proto-bb" target="_blank">bb:Model-events</a>: keys are event references of form
<code>event[.ns][ .sel #ector]</code> and values are strings (<a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfexpandFunc" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">expandFunc()</a>) or
functions, called as <code>function (nativeEventObject)</code> (see <a href="../Sqimitive/c_Core.html#-argDanger" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">argDanger</a>).</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inMergeProps" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inMergeProps</a></span></p><p>This property is listed in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sv_mergeProps" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_static mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_mergeProps</a> by default so subclass defining it adds to its parent’s object instead of overwriting it entirely (but identical keys are still overwritten).</p><p>The <code>.ns</code> part is ignored but can be used to create unique keys for the
purpose of inheritance. By convention, the class’ own handlers don’t have
<code class="chemdoc__id">ns</code> while handlers of <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>-s do.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-es6thiswarn" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">es6thiswarn</a></span></p><p>Warning: avoid using ES6 arrow functions as handlers due to their fixed <code class="chemdoc__id">this</code> (<a href="../Sqimitive/c_Core.html#-es6this" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">es6this</a>).</p><p>This property is not advised to change on run-time since it’s usually
unpredictable when it will take effect. For example,
<a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ifattach" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.attach()</a> only binds events when nesting <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a> into a
new parent node:
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.attach()
sqim.elEvents['click'] = function () { alert('foo') }
sqim.attach()    // will do nothing and 'click' will not be bound
sqim.el.remove()
sqim.attach()    // now events are bound</code></pre></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-elstub" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">elstub</a></span></p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Sqimitive\Base</a> doesn’t define any element-related functionality but
only provides stubs for several common fields (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a>,
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a>, etc.) for standardized extension. See <a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ivel" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.el</a>
for one such subclass.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ivelEvents---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5021-L5021" target="_blank">line 5021</a>                                  &bull; <a href="#Sqimitive-Base--ivelEvents---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">elEvents: {},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ivlength"
                data-entity='{"type":"var","id":990,"name":"length","start":{"line":5029,"column":4,"offset":195884},"end":null,"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>length</b>
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-readOnly" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">readOnly</a></span></p><p><b>May only be read, not changed.</b></p><p>The number of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a>’ed into this object.</p><p>Just like <code>$('p').length</code> or <a href="https://backbonejs.org/#Collection-length" class="chemdoc__custom-link chemdoc__proto-bb" target="_blank">bb:Collection-length</a>.</p><p>See also <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a>.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ivlength---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5030-L5030" target="_blank">line 5030</a>                                  &bull; <a href="#Sqimitive-Base--ivlength---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">length: 0,</code></pre>
                          </dd>
                  </dl>
            <h2 id="Sqimitive-Base--if"
            class="cp-member__group-header">
          Methods        </h2>
        <dl>
                      <dt id="Sqimitive-Base--if_"
                data-entity='{"type":"func","id":1024,"name":"_","start":{"line":6612,"column":4,"offset":253312},"end":{"line":6614,"column":4,"offset":253368},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>_</b>
                              (
                                  )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Utilities" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Utilities</a></p><p>Returns wrapped <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> array for chaining with your utility library.</p><p>Chaining is useful for transforming the value (array of children) several
times. Call <code>value()</code> to obtain the final value. If you’re only doing a
single transformation – just call it directly on <code class="chemdoc__id">this</code> since most of
them are exposed as methods (see <a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>).</p><p>Note: Underscore (see <a href="https://underscorejs.org/#chain" class="chemdoc__custom-link chemdoc__proto-un" target="_blank">un:chain</a>()) and LoDash support chaining but
NoDash doesn’t (<a href="https://squizzle.me/js/nodash/map.html#COMPATIBILITY" class="chemdoc__custom-link chemdoc__link-extchem chemdoc__link-extchem-no" target="_blank">no:COMPATIBILITY</a>) and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--if_" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">_()</a> will error.</p><p>The reference to the utility library itself (the global <code>_</code> object) is
accessible via <code>Sqimitive._</code>.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">col._().filter(...).sort(...).value()    //=&gt; array of children

// Same as:
var _ = Sqimitive._
_.chain(col.toArray()).filter(...).sort(...).value()

// Same as:
_.sort(col.filter(...), ...)</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--if_---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6613-L6615" target="_blank">lines 6613-6615</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--if_---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_: function () {
  return _.chain(this.slice())
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--if_defaultKey"
                data-entity='{"type":"func","id":1011,"name":"_defaultKey","start":{"line":6176,"column":4,"offset":237629},"end":{"line":6178,"column":4,"offset":237687},"forced":null,"modifiers":["protected"],"file":"main.js"}'
                class="cp-member__header">
              <b>_defaultKey</b>
                              (
                  sqim                )
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  protected                </p>
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Return an automatic (implied) key for the given to-be child.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>string</td><td rowspan="2" colspan="1"></td></tr><tr><td> number</td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--if_defaultKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_defaultKey()</a> is called by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> to
generate a key for the new child (<code class="chemdoc__id">sqim</code>) that is about to be nested into
this instance. Usage within base Sqimitive allows it to have side effects
(such as to produce sequential keys).</p><p>Default <a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s implementation returns <code class="chemdoc__id">sqim</code>’s <a href="../Sqimitive/c_Core.html#Sqimitive-Core--iv_cid" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_cid</a>.</p><p>Make sure the returned value is constant for a given child so that if
nesting the same child with no explicit key several times it isn’t
constantly re-nested due to a different key (see <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>).</p><p>Warning: if you want to index children by some “ID” attribute (like
Backbone’s <a href="https://backbonejs.org/#Collection" class="chemdoc__custom-link chemdoc__proto-bb" target="_blank">bb:Collection</a> does) note that <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> <b>will not</b> be
automatically updated if that ID attribute changes. You should track it
and update the collection. For example (see <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyCollection = Sqimitive.Base.extend({
  _childEvents: ['.change_id'],

  events: {
    // '.change_id' will only occur for "models" which _parent is this.
    // They will be re-nested with the key expanding to
    // this._defaultKey(sqim), basically doing nest(newID, sqim) - and
    // since this is an _owning collection, nest() will cause sqim to
    // be unnest()'ed and then nested with the new key.
    '.change_id': function (sqim) { this.nest(sqim) },

    // Same but shorter using a masked function reference:
    '.change_id': 'nest.',

    '=_defaultKey': function (sup, sqim) {
      return sqim.get('id')
    },
  },
})</code></pre></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p>If you want to not just keep some attribute synced with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> but
also maintain a specific order based on it – use the
<a href="../Sqimitive/c_Ordered.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Sqimitive\Ordered</a> <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-inBB" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">inBB</a></span></p><h3 id="A3afe424096" class="chemdoc__h0">In Backbone…</h3><p>In Backbone, <a href="https://backbonejs.org/#Model-idAttribute" class="chemdoc__custom-link chemdoc__proto-bb" target="_blank">bb:Model-idAttribute</a> names the property used for a
similar purpose but in Sqimitive it’s a function allowing flexible
automatic naming.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--if_defaultKey---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6177-L6179" target="_blank">lines 6177-6179</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--if_defaultKey---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">_defaultKey: function (sqim) {
  return sqim._cid
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifassignChildren"
                data-entity='{"type":"func","id":1026,"name":"assignChildren","start":{"line":6928,"column":4,"offset":267630},"end":{"line":6979,"column":4,"offset":269540},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>assignChildren</b>
                              (
                  resp [, options]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Unserializes children: updates own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> based on data of arbitrary
format.</p><p>Merges external “response” <code class="chemdoc__id">resp</code> into <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> by updating existing
nested sqimitives and adding new and/or removing unlisted ones. <code class="chemdoc__id">resp</code> is
a list of data objects, one object per every child:
<pre><code class="chemdoc__block prism language-javascript match-braces">resp = [ {caption: 'foo', body: 'bar'}, {caption: 'bazz'}, ... ]
         ^^^ the first child's data ^^  ^ the second child</code></pre></p><p><code class="chemdoc__id">options</code> keys used by this method (context for all <code>...Func</code> is <code class="chemdoc__id">this</code>):</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="2">newFunc</th><td>function returning a constructed child; receives response data
object (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> is still called so it’s usually unneeded)</td><td rowspan="2" colspan="1"></td></tr><tr><td>
<code class="chemdoc__id">null</code>/omitted create using <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> of <code class="chemdoc__id">this</code></td></tr><tr class="chemdoc__first"><th rowspan="3">eqFunc</th><td><code class="chemdoc__id">null</code>/omitted if <code class="chemdoc__id">keepMissing</code> then do nothing, else remove all
children prior to assignment</td><td rowspan="3" colspan="1"></td></tr><tr><td> string option name for <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a></td></tr><tr><td> function
<code>(child, opt)</code> returning <code class="chemdoc__id">true</code> when the given child is the “same” as
one of <code class="chemdoc__id">resp</code> data objects and should be kept and have its <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>
updated without creating a new child for that <code class="chemdoc__id">opt</code></td></tr><tr class="chemdoc__first"><th rowspan="2">keepMissing</th><td>true to keep children “not present” in <code class="chemdoc__id">resp</code> (as reported
by <code class="chemdoc__id">eqFunc</code>) unchanged</td><td rowspan="2" colspan="1"></td></tr><tr><td> false to ensure all <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> left after
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> were present in <code class="chemdoc__id">resp</code> and that others were
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunlist" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unlist()</a>’ed from self</td></tr><tr class="chemdoc__first"><th rowspan="2">keyFunc</th><td><code class="chemdoc__id">null</code>/omitted use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--if_defaultKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_defaultKey()</a> of <code class="chemdoc__id">this</code> (returns <a href="../Sqimitive/c_Core.html#Sqimitive-Core--iv_cid" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_cid</a> by
default)</td><td rowspan="2" colspan="1"></td></tr><tr><td> function returning key (string or number); receives a
constructed Sqimitive (before it’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest</a>’ed) and <code class="chemdoc__id">resp</code> data object</td></tr><tr class="chemdoc__first"><th rowspan="2">posFunc</th><td><code class="chemdoc__id">null</code>/omitted provide no explicit <code class="chemdoc__id">pos</code></td><td rowspan="2" colspan="1"></td></tr><tr><td> function returning
child’s <code class="chemdoc__id">pos</code>’ition in <a href="../Sqimitive/c_Ordered.html#Sqimitive-Ordered--ifnestEx" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered.nestEx</a>; same arguments as <code class="chemdoc__id">keyFunc</code></td></tr><tr class="chemdoc__first"><th rowspan="2">unFunc</th><td><code class="chemdoc__id">null</code>/omitted use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunlist" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unlist</a></td><td rowspan="2" colspan="1"></td></tr><tr><td> function receiving a nested child
plus some junk arguments; the child must become unnested when <code class="chemdoc__id">unFunc</code>
returns (no async operation)</td></tr></table><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>array <code>[nested, unlisted]</code> </td><td rowspan="1" colspan="1"> <code class="chemdoc__id">nested</code> is an array of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>
return values, <code class="chemdoc__id">unlisted</code> is an object of child sqimitives (by their
keys in <code class="chemdoc__id">this</code>) that were not found in <code class="chemdoc__id">resp</code>.<p>Some members of <code class="chemdoc__id">nested</code> may not belong to <code class="chemdoc__id">this</code>. For example, if
several <code class="chemdoc__id">resp</code> objects were given the same key, only the last’s child
will have <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> of <code class="chemdoc__id">this</code>.</p><p>If <code>options.eqFunc</code> was unset then <code class="chemdoc__id">unlisted</code> is either always <code>{}</code>
(given a set <code>options.keepMissing</code>) or the copy of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> before
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a>.</p></td></tr></table><p><a id="-assignchre" class="chemdoc__anchor chemdoc__anchor_token" href="#-assignchre">assignchre</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> “unserializes” own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> objects while
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> “unserializes” own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ions (“attributes”).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyList = Sqimitive.Base.extend()

var MyItem = Sqimitive.Base.extend({
  _opt: {foo: ''},
})

var list = new MyList
var item1 = new MyItem({foo: 'existing'})

list.nest(item1)
var resp = [{foo: 'incoming#1'}, {foo: 'existing'}]
list.assignChildren(resp)
  //=&gt; [ [item with 'foo' of 'incoming#1', item with 'foo' of 'existing'], {item1} ]
  // item1 was removed from list and the latter got two new children
  // with 'foo' of 'incoming#1' and 'existing' (the latter has
  // identical _opt with the removed item but a new object was
  // nevertheless created and nested)

// Let's restore the list.
list.invoke('remove')
list.nest(item1)

list.assignChildren(resp, {eqFunc: function (sqim, opt) {
  return sqim.get('foo') == opt.foo
}})
  //=&gt; [ [item with 'foo' of 'incoming#1'], {} ]
  // Now item1 wasn't removed because the function we've passed
  // compared its foo option with resp's foo value and returned true
  // to indicate that existing child represents the same entity as the
  // incoming data object. In addition to item1, list got one new item
  // with foo of 'incoming#1'.

// We can use this short form of eqFunc if we're simply matching some
// option with a field by the same name in resp's objects:
list.assignChildren(resp, {eqFunc: 'foo'})</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">list.assignChildren([], {keepMissing: true})
  //=&gt; [ [], {} ]
  // nothing done as there were no items in resp

list.assignChildren([])
  //=&gt; [ [], {old list._children} ]
  // the list was cleared as keepMissing defaults to false</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">assignChildren([ {key: 'foo'}, {key: 'bar'} ], {eqFunc: 'key'})
  // adds/updates 2 children with _opt = {key: 'foo'} and {key: 'bar'};
  // "same" sqimitives are those having the same value for the 'key'
  // option and data object's 'key' field

assignChildren([ {key: 'foo'}, {key: 'bar'} ],
               {eqFunc: function (sqim, opt) { return sqim.get('key') == opt.key }})
  // identical to the above

assignChildren({ foosh: {key: 'foo'}, barrsh: {key: 'bar'} }, {eqFunc: 'key'})
  // identical to the above (resp is an object, keys ignored)

assignChildren({ foosh: {key: 'foo'}, barrsh: {key: 'bar'} },
               {eqFunc: 'key', keepMissing: true})
  // identical to the above but keeps old children

assignChildren([ {key: 'foo'}, {key: 'bar'} ])
  // similar but always removes all nested sqimitives and adds 2 new
  // ones

assignChildren(..., {onlyDefined: true, forceFire: true})
  // passes onlyDefined to assignResp() and forceFire to set()</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Normally a child is constructed with no <code class="chemdoc__id">opt</code> (in <code class="chemdoc__id">new</code>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init</a>) and gets
them via a later <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>. Use <code class="chemdoc__id">newFunc</code> to supply some <code class="chemdoc__id">opt</code>’ions
early but remember that for existing children (<code class="chemdoc__id">eqFunc</code>) only
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> is called:
<pre><code class="chemdoc__block prism language-javascript match-braces">var data = [{foo: 1, bar: 2}, {foo: 3, bar: 4}]
assignChildren(data, {
  newFunc: resp =&gt; new ChildClass(_.pick(resp, 'foo', _.forceObject)),
  // Optionally, if we don't want foo to be considered by assignResp():
  schema: {foo: false},
  // Or, if a suitable schema is declared on ChildClass:
  schema: 'schemaProp',
})</code></pre></fieldset><h3 id="A680c076ee2" class="chemdoc__h1">The operation</h3><p>First, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> determines which <code class="chemdoc__id">resp</code> objects are new and
which are “serialized” forms of one of the existing <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> by
calling <code>options.eqFunc</code> with combinations of <code>(child, obj)</code> for
every child and data object. <code class="chemdoc__id">eqFunc</code> should return <code class="chemdoc__id">true</code> exactly for
none or one such combination. If <code>options.eqFunc</code> is a string then it’s
assumed that children are identified by an <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion by this name (like
“id”), mapping to data objects with the same value of this property:
<pre><code class="chemdoc__block prism language-javascript match-braces">var resp = [ {id: 1, caption: 'foo'}, {id: 2, caption: 'bar'} ]
var child = new Sqimitive.Base({id: 1, caption: 'quux'})
col.nest(child)
col.assignChildren(resp)
  // col now has 2 children: id=1 'foo', id=2 'bar'
  // but the first is a new object, not our child object even though
  // it's the same entity (given the same ID) - we should preserve it
  // since it may have event listeners set up by other objects

// But if we'd have done this:
col.assignChildren(resp, {eqFunc: 'id'})
  // col would have 2 children with the same _opt values
  // but the first would be the same child as nested in the beginning
  // so its event listeners would be preserved, just 'caption' updated

// String eqFunc is the same as:
col.assignChildren(resp, {eqFunc: function (child, obj) {
  return child.get('id') == obj.id
}})</code></pre></p><p>To recap: children keys (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a>) are not used when linking
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> and <code class="chemdoc__id">resp</code> objects unless you code this in your
<code>options.eqFunc</code>.</p><p>If <code>options.eqFunc</code> is unset then all existing children are
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunlist" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unlist()</a>’ed unless <code>options.keepMissing</code> is set – in this case they
are preserved and for each item in <code class="chemdoc__id">resp</code> a new child is nested. However,
on duplicate keys (<code>options.keyFunc</code>) only the last child is kept and
others are removed as per the usual behaviour of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a>
(<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> doesn’t handle this specially and such
“removed-by-nesting” children are not reflected in the returned array).</p><p>Then, for data objects mapped to an existing child <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a>
calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> on that child giving it the mapped data object to
essentially update it. For unmapped, it creates a new Sqimitive by
<code>options.newFunc</code>, calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest</a>-s it under the key
of <code>options.keyFunc</code>.</p><p>Finally, if <code>options.keepMissing</code> is unset <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> removes
all children which were neither updated not created during this call. If
it’s set then they are just left unchanged as <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> of <code class="chemdoc__id">this</code>.</p><h3 id="A64e8825bdc" class="chemdoc__h1">Propagation of <code class="chemdoc__id">options</code></h3><p><a id="-assignoprop" class="chemdoc__anchor chemdoc__anchor_token" href="#-assignoprop">assignoprop</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> call/fire several methods/events
(<a href="../p_ov.html#-evt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evt</a>), all of which receive the same <code class="chemdoc__id">options</code> object. This allows
changing those methods’ options as well as propagating data back from
them to the original caller (see <a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>).</p><p>In particular, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>,
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> firing <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>, as well as <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx</a>-produced events (however, for <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> a
shallow-copy of <code class="chemdoc__id">options</code> is given).</p><p><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.assignChildren({a: 1, b: 2}, {schema: api3, forceFire: true})
  // passes schema to assignResp() instead of _respToOpt and
  // passes forceFire to set() to always fire change events</code></pre></p><p>Additionally, this method sets <code>options.assignChildren</code> to <code class="chemdoc__id">true</code> so
you can determine when an option is being set as a result of this method
call:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  events: {
    change_caption: function (now, options) {
      // Don't refresh the view when unserializing.
      if (!options.assignChildren) { this.render() }
    },
  },
})

sqim.assignChildren([{caption: 'foo'}, ...])
sqim.render()    // call it once after finishing the update</code></pre></p><h3 id="A75863f3430" class="chemdoc__h1">Format of <code class="chemdoc__id">resp</code></h3><p><code class="chemdoc__id">resp</code> is either an array of objects or an “object of objects” – then
it’s converted using <a href="https://squizzle.me/js/nodash/map.html#NoDash--ifvalues" class="chemdoc__custom-link chemdoc__link-extchem chemdoc__link-extchem-no" target="_blank">no:values</a>() ignoring the keys. Use <code class="chemdoc__id">keyFunc</code> if
you want to have the object’s keys (or any other keys) assigned to
children:
<pre><code class="chemdoc__block prism language-javascript match-braces">var resp = {"foo": {opt: 123}, "bar": {opt: 456}}
// Since assignChildren() discards resp's keys, copy them to each object:
_.each(resp, (opt, key) =&gt; opt._key = key)
col.assignChildren(resp, {keyFunc: (child, opt) =&gt; opt._key})</code></pre></p><div class="chemdoc__indent"><p>Sqimitive prior to v1.2 allowed <code class="chemdoc__id">resp</code> to be an object with the <code class="chemdoc__id">data</code>
key to integrate with Python’s Flask framework but it’s no longer
supported – see
<a href="https://flask.palletsprojects.com/en/1.1.x/security/#json-security" class="chemdoc__custom-link chemdoc__proto-https" target="_blank">https://flask.palletsprojects.com/en/1.1.x/security/#json-security</a>.</p></div><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> may process <code class="chemdoc__id">resp</code> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest</a>/update children in any
order. If you need specific order then pass <code class="chemdoc__id">resp</code> as an array instead of
object.</p><h3 id="Aad50bd2ea1" class="chemdoc__h1">Other notes</h3><ul><li>There’s no <code>assignChildren()</code> version that takes ready-made objects
(like Backbone’s <a href="https://backbonejs.org/#Collection-set" class="chemdoc__custom-link chemdoc__proto-bb" target="_blank">bb:Collection-set</a>()) because many questions arise:
do you need to keep old duplicate children or replace them with supplied
objects and what to do with event listeners on the old children if you
do replace them, or with listeners on the new if you don’t; what to
consider “duplicate” (some ID attribute? exact same object?), do you
want to keep old options, etc. etc. Instead of making Sqimitive figure
or enforce them on you it just lets you implement exactly what you need.</li><li><a id="-assignname" class="chemdoc__anchor chemdoc__anchor_token" href="#-assignname">assignname</a>This method is named “assign” to emphasize the fact that data may
undergo transformations before being assumed by the sqimitive.</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifassignChildren---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6929-L6980" target="_blank">lines 6929-6980</a> (52 lines)                                  &bull; <a href="#Sqimitive-Base--ifassignChildren---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">assignChildren: function (resp, options) {
  options || (options = {})
  options.assignChildren = true
  var eqFunc = options.eqFunc
  var keyFunc = options.keyFunc || this._defaultKey
  var unFunc = options.unFunc || this.unlist

  if (eqFunc == null) {
    var retUnlisted = options.keepMissing ? {} : this.nested()
    options.keepMissing || this.forEach(unFunc, this)
  } else if (typeof eqFunc != 'function') {
    var field = eqFunc
    eqFunc = function (sqim, opt) { return opt && sqim.get(field) == opt[field] }
  }

  _.isArray(resp) || (resp = _.values(resp))
  var toRemove = eqFunc ? this.nested() : {}
  var nested = []

  for (var i = 0; i < resp.length; i++) {
    var found = false

    for (var key in toRemove) {
      if (eqFunc.call(this, toRemove[key], resp[i])) {
        toRemove[key].assignResp(resp[i], options)
        delete toRemove[key]
        found = true
        break
      }
    }

    if (!found) {
      // It's hard/impossible to tell apart a regular function and a
      // constructor so if you want to specify a class, create a function
      // that just returns that class. In ES6 that's simply () => MyClass.
      var child = options.newFunc
        ? options.newFunc.call(this, resp[i]) : new this._childClass
      child.assignResp(resp[i], options)
      var res = this.nestEx(_.assign({}, options, {
        key:    keyFunc.call(this, child, resp[i]),
        child:  child,
        pos:    options.posFunc
          ? options.posFunc.call(this, child, resp[i]) : null,
      }))
      // Can't use _parentKey if not _owning.
      nested.push(res)
    }
  }

  options.keepMissing || _.forEach(toRemove, unFunc, this)
  return [nested, retUnlisted /* when !eqFunc */ || toRemove]
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifassignResp"
                data-entity='{"type":"func","id":1030,"name":"assignResp","start":{"line":7219,"column":4,"offset":278850},"end":{"line":7255,"column":4,"offset":279973},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>assignResp</b>
                              (
                  resp [, options]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Unserializes options: updates own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a> based on a <code class="chemdoc__id">resp</code>
data object of arbitrary format.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> calls <code>options.schema</code>’s empty key and then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>-s
own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> based on transformation rules (<code>options.schema</code>) for the
external input <code class="chemdoc__id">resp</code> (e.g. an API response) – all of this in a<a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch()</a>.
<code class="chemdoc__id">resp</code> is an object where one member usually represents one option (but
this is not a requirement).</p><p><code class="chemdoc__id">options</code> keys used by this method:</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="3">schema</th><td>null/omitted to use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a></td><td rowspan="3" colspan="1"></td></tr><tr><td> object in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> format
including empty <code>{}</code></td></tr><tr><td> string own property name</td></tr><tr class="chemdoc__first"><th rowspan="2">onlyDefined</th><td>null/omitted to call <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set</a>(key) for every key in <code class="chemdoc__id">resp</code> not
listed in <code class="chemdoc__id">schema</code></td><td rowspan="2" colspan="1"></td></tr><tr><td> true to ignore such keys</td></tr></table><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>array of changed option names (as reported by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> called by
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>, not by <code class="chemdoc__id">schema</code>’s functions; doesn’t list <code>.props</code>)</td><td rowspan="1" colspan="1"></td></tr></table><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-assignchre" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">assignchre</a></span></p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> “unserializes” own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> objects while
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> “unserializes” own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ions (“attributes”).</p><fieldset class="chemdoc__example"><legend>Example</legend>In the simplest case when <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> is not overridden (i.e. is
<code>{}</code>) and <code class="chemdoc__id">onlyDefined</code> is unset <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> acts as a
“multi-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>”:
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.assignResp({date: '2000-01-01', id_key: '123'})
  // without _respToOpt, schema and onlyDefined is equivalent to:
  // sqim.set('date', '2000-01-01').set('id_key', '123')

// Works the same regardless of sqim's _respToOpt - useful as mass-set().
sqim.assignResp({date: '2000-01-01', id_key: '123'}, {schema: {}})</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><a id="-assignrespvs" class="chemdoc__anchor chemdoc__anchor_token" href="#-assignrespvs">assignrespvs</a>Using <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> in conjunction with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> to “blend” into
this object a typical JSON response from a backend:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyModel = Sqimitive.Base.extend({
  _opt: {
    date: new Date(0),
    id_key: 0,
  },

  _respToOpt: {
    // Create a Date object from the incoming value:
    date: function (value, key) {
      return [key, new Date(value)]
    },

    // Pass the value through to _opt as is.
    id_key: true,
  },

  events: {
    change_id_key: 'render',

    '=normalize_id_key': function (sup, value) {
      value = parseInt(value)
      if (isNaN(value)) { throw new Error('What kind of ID is that?') }
      return value
    },
  },
})

var sqim = new MyModel

// Since it's using regular set() to assign new values all the usual
// normalize/change events are fired. In particular, MyModel's
// normalize_id_key and then change_id_key are called. As a result
// _opt setting happens exactly the same as if it was done with the
// usual set() from the outside.
sqim.assignResp({date: '2000-01-01', id_key: '123', bazzz: 'Ouch!'})

// Now sqim.get() is {date: new Date('2000-01-01'), id_key: 123, bazzz: 'Ouch!'}.
// date was turned into a Date object thanks to the transformation
// function in _respToOpt.
// id_key was turned into a number thanks to normalize_id_key.
// bazzz was assigned too because we didn't pass {onlyDefined: true}.</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>If you have several API routes with different formats but logically the
same data (so they unserialize to the same object), pass
<code>options.schema</code> without changing <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> on run-time:
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.assignResp(apiResp1, {schema: {id: 'id_key'}})
  // set('id_key', apiResp1.id) and set other keys as is

var schema = _.extend({extra: s =&gt; ['info', JSON.parse(s)]}, sqim._respToOpt)
sqim.assignResp(apiResp2, {schema})
  // set('extra', JSON.parse(apiResp2.info)) and
  // handle other keys according to sqim._respToOpt</code></pre><p>If storing schema(s) within the object itself, set <code>options.schema</code> to
the property name:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyModel = Sqimitive.Base.extend({
  apiSchema: {foo: 'bar'}
})
var obj = new MyModel
obj.assignResp(apiResp, {schema: 'apiSchema'})
// Equivalent to:
obj.assignResp(apiResp, {schema: obj.apiSchema})</code></pre></p><p><code class="chemdoc__id">schema</code> is not meant for changing <code class="chemdoc__id">resp</code>’s shape, e.g. from array
<code>[['opt', 'name'], ...]</code> to object <code>{opt: 'name', ...}</code> – declare a
specialized public method instead of making your consumers pass <code class="chemdoc__id">schema</code>
or know how to treat the data:
<pre><code class="chemdoc__block prism language-javascript match-braces">assignBillingResponse: function (resp) {
  this.assignResp(_.object(resp), {
    schema: this._billingRespToOpt,
    onlyDefined: true,
  })
}</code></pre></p></fieldset><p>Having <code>options.onlyDefined</code> unset is similar to having all keys in
<code class="chemdoc__id">resp</code> missing from <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> listed there with the value of <code class="chemdoc__id">true</code>:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _respToOpt: {a: false, b: true},
})

sqim.assignResp({a: 1, b: 2, c: 3}, {onlyDefined: true})
  // _opt is {b: 2}

sqim.assignResp({a: 1, b: 2, c: 3})
  // _opt is {b: 2, c: 3}
  // as if _respToOpt had also {c: true}</code></pre></p><fieldset class="chemdoc__example"><legend>Example</legend>Some <a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a> methods internally call <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> with <code class="chemdoc__id">schema</code>. If
overriding this method, don’t change <code class="chemdoc__id">options</code> for such calls. For
example, to force skipping <code class="chemdoc__id">resp</code> keys not defined in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a>
(handy if this method is used directly by API consumers, i.e. there’s no
specialized “<code>unserialize()</code>”):
<pre><code class="chemdoc__block prism language-javascript match-braces">var MySqimitive = Sqimitive.Base.extend({
  events: {
    '=assignResp': function (sup, resp, options) {
      if (!options || !options.schema) {
        options = _.extend({}, options, {onlyDefined: true})
      }
      return sup(this, [resp, options])
    },
  },
})</code></pre></fieldset><h3 id="A64e8825bdc" class="chemdoc__h1">Propagation of <code class="chemdoc__id">options</code></h3><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-assignoprop" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">assignoprop</a></span></p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> call/fire several methods/events
(<a href="../p_ov.html#-evt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evt</a>), all of which receive the same <code class="chemdoc__id">options</code> object. This allows
changing those methods’ options as well as propagating data back from
them to the original caller (see <a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>).</p><p>In particular, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> firing
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>.
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.assignResp({a: 1, b: 2}, {forceFire: true})
  // passes forceFire to set() causing change events of a and/or b
  // to fire even if they had the same values before assignResp()</code></pre></p><p>Additionally, this method sets <code>options.assignResp</code> to <code class="chemdoc__id">true</code> so you
can determine when an option is being set as a result of this method call
(see <a href="../Sqimitive/c_Base.html#-assignoprop" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignoprop</a> for an example). If called by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a>,
<code class="chemdoc__id">options</code> has both <code class="chemdoc__id">assignChildren</code> and <code class="chemdoc__id">assignResp</code> set.</p><h3 id="Ab5e173b3b4" class="chemdoc__h1"><code class="chemdoc__id">normalize</code>/<code class="chemdoc__id">change</code> vs <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a></h3><p>You may notice that <code>=normalize_id_key</code> and <code class="chemdoc__id">_respToOpt</code>’s <code class="chemdoc__id">date</code> in
example <a href="../Sqimitive/c_Base.html#-assignrespvs" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignrespvs</a> fulfill a similar purpose. That example could have
been written like this:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyModel = Sqimitive.Base.extend({
  _respToOpt: {
    date: function (value, key) {
      return [key, new Date(value)]
    },

    id_key: function (value, key) {
      value = parseInt(value)
      if (isNaN(value)) { throw new Error('What kind of ID is that?') }
      return [key, value]
    },
  },

  events: {
    change_id_key: 'render',
    // No '=normalize_id_key', moved to _respToOpt.
  },
})</code></pre></p><p>Or like this:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyModel = Sqimitive.Base.extend({
  _respToOpt: {
    // No date, became normalize_date.
  },

  events: {
    change_id_key: 'render',

    '=normalize_date': function (sup, value) {
      return new Date(value)
    },

    '=normalize_id_key': function (sup, value) {
      value = parseInt(value)
      if (isNaN(value)) { throw new Error('What kind of ID is that?') }
      return value
    },
  },
})</code></pre></p><p>Indeed, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> and others are fired by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> and they occur
during <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> because the latter is calling <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> internally.
However, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a> is only used by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> so both of the above
examples have issues:</p><ul><li>If there is no <code>=normalize_id_key</code> then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> works as expected
while <code>set('id_key', 'zabzab')</code> doesn’t trigger an error.</li><li>If there are no <code class="chemdoc__id">_respToOpt</code> rules then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> again works as
expected but <code>set('date', new Date)</code> results in <code>_opt.date</code> becoming
<code>new Date(new Date)</code>.</li></ul><p>Additionally, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> allows different “unserialization profiles”
by passing rules in <code>options.schema</code> rather than defining them in
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_respToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_respToOpt</a>.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> may process <code class="chemdoc__id">resp</code> and call <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> in any order.</p><h3 id="Aad50bd2ea1" class="chemdoc__h1">Other notes</h3><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-assignname" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">assignname</a></span></p><ul><li>This method is named “assign” to emphasize the fact that data may
undergo transformations before being assumed by the sqimitive.</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifassignResp---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L7220-L7256" target="_blank">lines 7220-7256</a> (37 lines)                                  &bull; <a href="#Sqimitive-Base--ifassignResp---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">assignResp: function (resp, options) {
  return this.batch(null, function assignResp_() {
    options || (options = {})
    options.assignResp = true

    var changed = []
    var schema = this[options.schema] || options.schema || this._respToOpt

    var set = schema[''] && schema[''].call(this, resp, options) || {}
    _.forEach(set, function (v, k) {
      this.ifSet(k, v, options) && changed.push(k)
    }, this)

    for (var key in resp) {
      var value = resp[key]
      var opt = schema[key]
      opt === undefined && (opt = !options.onlyDefined)
      opt === true && (opt = key)

      if (typeof opt == 'function') {
        opt = opt.call(this, value, key, resp, options) || [false]
        value = opt[1]
        opt = opt[0]
      }

      if (opt !== false) {
        if (opt[0] == '.' && key[0] != '.') {
          this[opt.substr(1) || key] = value
        } else if (this.ifSet(opt, value, options)) {
          changed.push(opt)
        }
      }
    }

    return changed
  })
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifattach"
                data-entity='{"type":"func","id":997,"name":"attach","start":{"line":5249,"column":4,"offset":203179},"end":{"line":5251,"column":4,"offset":203229},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>attach</b>
                              (
                  parent                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p>Attach the object to its parent and bind “external” event handlers
(<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivelEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">elEvents</a>).</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-renderAttach" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">renderAttach</a></span></p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><a id="-baseAttach" class="chemdoc__anchor chemdoc__anchor_token" href="#-baseAttach">baseAttach</a>object </td><td rowspan="1" colspan="1"> <code class="chemdoc__id">this</code></td></tr></table><p>Here’s a typical Sqimitive object lifecycle:</p><ul><li>construct with <code class="chemdoc__id">new</code>: <code>new Class({opt...})</code></li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifattach" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">attach()</a> (to DOM, etc.), for members – when nested to a collection</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a> when required for user to see it first time</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a> again when something changes that affects the visual
presentation (usually in response to a <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> of some <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion)</li><li>finally, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a></li></ul><p>Complete re-rendering on change is simple and adequate for many simple
sqimitives but if it’s heavy, it’s customary to perform a partial update
using method(s) named <code>update()</code>. There are no such methods by default
but see <a href="../p_ov.html#-vw" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">vw</a> for an example.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var Label = Sqimitive.jQuery.extend({
  _opt: {caption: 'untitled'},

  events: {
    render: function () {
      this.el.text(this.get('caption'))
    },

    change_caption: 'render',
  },
})
                                    // Lifecycle:
;(new Label)                        // 1) construct
  .attach('body')                   // 2) attach
  .render()                         // 3) render
  .set('caption', 'render again!')  // 4) update</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-elstub" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">elstub</a></span></p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Sqimitive\Base</a> doesn’t define any element-related functionality but
only provides stubs for several common fields (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a>,
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a>, etc.) for standardized extension. See <a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ivel" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.el</a>
for one such subclass.</p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifattach" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">attach()</a> does nothing. You may be looking for
<a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ifattach" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.attach()</a>.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifattach---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5250-L5252" target="_blank">lines 5250-5252</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--ifattach---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">attach: function (parent) {
  return this
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifbubble"
                data-entity='{"type":"func","id":1031,"name":"bubble","start":{"line":7303,"column":4,"offset":281786},"end":{"line":7307,"column":4,"offset":281967},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>bubble</b>
                              (
                  func, args, onSelf                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Events" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Events</a></p><p>Calls the method <code class="chemdoc__id">func</code> with arguments <code class="chemdoc__id">args</code> on every <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>
(recursively, if any) and optionally <code class="chemdoc__id">onSelf</code>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><a id="-bubsin" class="chemdoc__anchor chemdoc__anchor_token" href="#-bubsin">bubsin</a>this</td><td rowspan="1" colspan="1"></td></tr></table><p>If <code class="chemdoc__id">onSelf</code> is <code class="chemdoc__id">true</code> then first calls <code class="chemdoc__id">func</code> on <code class="chemdoc__id">this</code>, if defined.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifbubble" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">bubble()</a> proceeds upstream while <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifsink" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">sink()</a> descends downstream.
However, the first walks only <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> sqimitives (since it’s using
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>) while the second works for non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> too (since it’s using
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>).</p><p>You can “recursively” fire events as well since events typically create
methods (<a href="../p_ov.html#-evt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evt</a>; see <code>_wrapHandler()</code>’s source code for details).</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifbubble" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">bubble()</a> is very much like DOM’s event bubbling except that it
happens on sqimitives, not on their <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>’s.</p><p>While it should not be abused because it makes the execution flow less
obvious (much like <code class="chemdoc__id">goto</code> or <code>longjmp()</code>), it’s indispensible for
propagating generic signals like errors and logs to whoever is on top.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">// Causes self and all parent sqimitives to be rendered:
sqim.bubble('render', [], true)

// Recursively calls invoke('render') on all parents which results
// in them calling attach() on children (given the default behaviour
// of attach()):
sqim.bubble('invoke', ['attach'])

// We can use it to obtain data from "some" (unspecified) _owning
// object:
var out = {}
sqim.bubble('giveMeData', [out])
alert(out.data)
// The above will work if any parent has a handler like this:
parent.on('giveMeData', function (out) { out.data = 'here goes' })</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifbubble---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L7304-L7308" target="_blank">lines 7304-7308</a> (5 lines)                                  &bull; <a href="#Sqimitive-Base--ifbubble---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">bubble: function (func, args, onSelf) {
  onSelf && this[func] && this[func].apply(this, args)
  this._parent && this._parent.bubble(func, args, true)
  return this
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifchange"
                data-entity='{"type":"func","id":1004,"name":"change","start":{"line":5703,"column":4,"offset":219008},"end":{"line":5712,"column":4,"offset":219228},"forced":true,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>change</b>
                              (
                  opt, now, old, options                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Called to notify that the value of some <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion (<code class="chemdoc__id">opt</code>) has changed
from <code class="chemdoc__id">old</code> to <code class="chemdoc__id">now</code>.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-changeAndOpt" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">changeAndOpt</a></span></p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet</a> normalizes (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a>) new option’s value (<code class="chemdoc__id">now</code>) and, if
it’s different from the current one (<code class="chemdoc__id">old</code>) fires an event named
“change_” + the option’s name (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a>), then fires <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>.</p><p>New value is already written to <code>this._opt.OPT</code> by the time change
events occur.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-normopt" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">normopt</a></span></p><p><code class="chemdoc__id">options</code> is the object originally given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>.</p><p>With <code class="chemdoc__id">new</code> being a reserved word, it’s customary to name the first
argument “<code class="chemdoc__id">now</code>” rather than “<code class="chemdoc__id">value</code>” to clearly indicate which argument
is the new value (“now” and “old”).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.Base.extend({
  _opt: {
    caption: '',
  },

  events: {
    // When _opt.caption is changed - call render() to update the looks.
    change_caption: 'render', //¹
  },
})</code></pre><p>¹ Be aware of <a href="../Sqimitive/c_Core.html#-argDanger" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">argDanger</a> as your handler might care for extra
arguments. If it does then use a masked reference (see <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfmasker" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">masker()</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">events: {
  // Pass no arguments thanks to '-':
  change_caption: 'updateCaption-',
},</code></pre></p></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.jQuery.extend({
  el: {tag: 'form'},

  _opt: {
    caption: '',
    body: '',
  },

  events: {
    // When any option is changed - update the corresponding &lt;input&gt;.
    change: function (name, now) {
      // change_OPT doesn't receive option's name as the first argument.
      //
      // now is used as is - if clean-up is required then normalize_OPT
      // events must be handled.
      this.$('[name="' + name + '"]').val(now)
    },
  },
})</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><a id="-setoptpropag" class="chemdoc__anchor chemdoc__anchor_token" href="#-setoptpropag">setoptpropag</a>Propagation of <code class="chemdoc__id">options</code> (<a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.on('change_foo', function (now, old, options) {
  if (!options.noSync) {
    $.ajax({
      url: 'update',
      type: 'POST',
      data: this.get(),
    })
  }
})

// The handler above performs an AJAX request:
sqim.ifSet('foo', 123)

// But not now (set() passes options through to ifSet()):
sqim.set('foo', 123, {noSync: true})

// assignResp() passes options to set() so no request is performed too:
sqim.assignResp({foo: 123}, {noSync: true})</code></pre></fieldset></div>
                                          <p class="cp-member__file "
                 id="Sqimitive-Base--ifchange---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5704-L5704" target="_blank">line 5704</a>                              </p>
                          </dd>
                      <dt id="Sqimitive-Base--ifchange_OPT"
                data-entity='{"type":"func","id":1003,"name":"change_OPT","start":{"line":5612,"column":4,"offset":216139},"end":{"line":5699,"column":4,"offset":218932},"forced":true,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>change_OPT</b>
                              (
                  now, old, options                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Called to notify that the value of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion named <code class="chemdoc__id">OPT</code> has changed
from <code class="chemdoc__id">old</code> to <code class="chemdoc__id">now</code>.</p><p><a id="-changeAndOpt" class="chemdoc__anchor chemdoc__anchor_token" href="#-changeAndOpt">changeAndOpt</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet</a> normalizes (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a>) new option’s value (<code class="chemdoc__id">now</code>) and, if
it’s different from the current one (<code class="chemdoc__id">old</code>) fires an event named
“change_” + the option’s name (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a>), then fires <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>.</p><p>New value is already written to <code>this._opt.OPT</code> by the time change
events occur.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-normopt" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">normopt</a></span></p><p><code class="chemdoc__id">options</code> is the object originally given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>.</p><p>With <code class="chemdoc__id">new</code> being a reserved word, it’s customary to name the first
argument “<code class="chemdoc__id">now</code>” rather than “<code class="chemdoc__id">value</code>” to clearly indicate which argument
is the new value (“now” and “old”).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.Base.extend({
  _opt: {
    caption: '',
  },

  events: {
    // When _opt.caption is changed - call render() to update the looks.
    change_caption: 'render', //¹
  },
})</code></pre><p>¹ Be aware of <a href="../Sqimitive/c_Core.html#-argDanger" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">argDanger</a> as your handler might care for extra
arguments. If it does then use a masked reference (see <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfmasker" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">masker()</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">events: {
  // Pass no arguments thanks to '-':
  change_caption: 'updateCaption-',
},</code></pre></p></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.jQuery.extend({
  el: {tag: 'form'},

  _opt: {
    caption: '',
    body: '',
  },

  events: {
    // When any option is changed - update the corresponding &lt;input&gt;.
    change: function (name, now) {
      // change_OPT doesn't receive option's name as the first argument.
      //
      // now is used as is - if clean-up is required then normalize_OPT
      // events must be handled.
      this.$('[name="' + name + '"]').val(now)
    },
  },
})</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><a id="-setoptpropag" class="chemdoc__anchor chemdoc__anchor_token" href="#-setoptpropag">setoptpropag</a>Propagation of <code class="chemdoc__id">options</code> (<a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.on('change_foo', function (now, old, options) {
  if (!options.noSync) {
    $.ajax({
      url: 'update',
      type: 'POST',
      data: this.get(),
    })
  }
})

// The handler above performs an AJAX request:
sqim.ifSet('foo', 123)

// But not now (set() passes options through to ifSet()):
sqim.set('foo', 123, {noSync: true})

// assignResp() passes options to set() so no request is performed too:
sqim.assignResp({foo: 123}, {noSync: true})</code></pre></fieldset></div>
                                          <p class="cp-member__file "
                 id="Sqimitive-Base--ifchange_OPT---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5613-L5613" target="_blank">line 5613</a>                              </p>
                          </dd>
                      <dt id="Sqimitive-Base--ifconstructor"
                data-entity='{"type":"func","id":991,"name":"constructor","start":{"line":5061,"column":4,"offset":197059},"end":{"line":5072,"column":4,"offset":197640},"forced":null,"modifiers":["constructor"],"file":"main.js"}'
                class="cp-member__header">
              <b>constructor</b>
                              (
                  [opt]                )
                          </dt>
            <dd class="cp-member__info">
                              <p class="cp-member__mods">
                  Modifiers:
                  constructor                </p>
                                            <div class="fmt"><p>Calls <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifconstructor" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_constructor" data-if-entity="909 chemdoc__link-entity-cur">Core.constructor()</a> and <a href="../Sqimitive/c_Core.html#Sqimitive-Core--iffire" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">fire()</a>-s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit</a>,
passing <code class="chemdoc__id">opt</code> to all.</p><p><code class="chemdoc__id">opt</code> is the first argument optionally given to <code class="chemdoc__id">new</code>:
<code>new Sqimitive.Base({opt...})</code>.</p><p>This method ensures <code class="chemdoc__id">opt</code> is always an object before passing it on so
there is no need for checks like <code>(opt &amp;&amp; opt.foo)</code>.</p><fieldset class="chemdoc__example"><legend>Example</legend><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init</a>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit</a> handlers may propagate changes in user-given <code class="chemdoc__id">opt</code> to
other handlers or even to the caller of <code class="chemdoc__id">new</code> (<a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>).
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.Base.extend({
  events: {
    init: function (opt) { opt.changed = 123 },
  },
})

var opt = {}
;(new MyClass(opt))
  // opt.changed == 123</code></pre></fieldset><p>Constructors are reminiscents of the traditional JavaScript OOP (if it
can be called so). They are hard to work with in Sqimitive (you can’t
override them using events) so you want to leave them alone, instead
working with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit()</a> which are “regular” Sqimitive
methods.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifconstructor---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5062-L5073" target="_blank">lines 5062-5073</a> (12 lines)                                  &bull; <a href="#Sqimitive-Base--ifconstructor---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">constructor: function Sqimitive_Base(opt) {
  // ^^ Giving this function a name so that it's visible in the debugger.

  // Ensuring the argument is always an object.
  // Mere arguments[0] = {} won't work because if arguments.length == 0,
  // this won't update length and so apply() will assume arguments is still
  // empty (0) even though index 0 has been set.
  opt || ap.unshift.call(arguments, {})
  Sqimitive.Base.__super__.constructor.apply(this, arguments)
  this.init.apply(this, arguments)
  this.postInit.apply(this, arguments)
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--iffindKey"
                data-entity='{"type":"func","id":1020,"name":"findKey","start":{"line":6540,"column":4,"offset":250879},"end":{"line":6552,"column":4,"offset":251281},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>findKey</b>
                              (
                  sqim | func [, cx]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a>, <a href="../p__7ibvkbid.html#-tag_Utilities" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Utilities</a></p><p>Returns the string key of the given child (in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> of self) or of
the first child matched by the callback, or <code class="chemdoc__id">undefined</code>.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a> has two call forms:</p><ul><li><code>function (sqim)</code> – If <code class="chemdoc__id">sqim</code> is part of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>, returns its key.</li><li><code>function (func [, cx])</code> – Call <code class="chemdoc__id">func</code> in the <code class="chemdoc__id">cx</code> context (<code class="chemdoc__id">this</code> if
<code class="chemdoc__id">null</code> or omitted) giving it the usual iterator’s set of arguments:
<code>childObject, childKey, childrenObject</code> (as in Underscore, etc.).
Returns <code class="chemdoc__id">childKey</code> as soon as <code class="chemdoc__id">func</code> returns a truthy value.<p>Warning: do not modify <code class="chemdoc__id">childrenObject</code> as it’s the <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> itself.</p></li></ul><p>In any case, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a> returns <code class="chemdoc__id">undefined</code> if no match was found.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">col.findKey(col.first())   // get key of the first child
col.findKey(ch =&gt; ch.get('enabled'))   // get key of the first "enabled" child</code></pre></fieldset><p>Other notes:</p><ul><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a> is similar to <code>findIndex()</code> <a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>.</li><li>It returns an arbitrary key if <code class="chemdoc__id">this</code> has duplicate children
(non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>), even if <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</li><li>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> and when given a <code class="chemdoc__id">sqim</code>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a> does a quick check on
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> without iterating over children.</li></ul><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-parentkeyowning" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">parentkeyowning</a></span></p><p>Note: key only matches the child’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> if <code class="chemdoc__id">this</code> is <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>,
else it may differ.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p>Either <code>func()</code> should match exactly 0 or 1 children or the caller should
not care which of the matched ones <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a> returns (since it may
return a different matching child every time).</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--iffindKey---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6541-L6553" target="_blank">lines 6541-6553</a> (13 lines)                                  &bull; <a href="#Sqimitive-Base--iffindKey---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">findKey: function (func, cx) {
  var eq = func instanceof Object
  if (eq && this._owning) {
    return func._parent === this ? func._parentKey : undefined
  }
  for (var key in this._children) {
    if (eq
          ? this._children[key] === func
          : func.call(cx || this, this._children[key], key, this._children)) {
      return key
    }
  }
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifget"
                data-entity='{"type":"func","id":1000,"name":"get","start":{"line":5458,"column":4,"offset":210606},"end":{"line":5460,"column":4,"offset":210705},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>get</b>
                              (
                  [opt]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Returns the value of one <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> or values of all of them (if no
argument).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.get('opt1')   //=&gt; 'value'
sqim.get()         //=&gt; {opt1: 'value', opt2: 123, ...}</code></pre></fieldset><p>All options’ values are returned in an object shallow-copied from <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>
meaning it’s safe to change the object itself (add/remove properties) but
changing non-scalar values will indirectly change options inside the
object:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.Base.extend({
  _opt: {array: [1, 2]},
})

var obj = new MyClass
var opts = obj.get()   //=&gt; {array: [1, 2]}
opts.new = 3
obj.get()              //=&gt; {array: [1, 2]} - same
opts.array.push(4)
obj.get()              //=&gt; {array: [1, 2, 4]} - changed</code></pre></p><p>Override this method to read non-existing options or transform them like
this:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MySetter = Sqimitive.Base.extend({
  _opt: {
    foo: 'foo!',
  },

  events: {
    // Now any option can be read as option:up to turn its value into
    // upper case.
    '+get': function (res, name) {
      if (name = name.match(/^([^:]+):up$/)) {
        return this.get(name[1]).toUpperCase()
      }
    },
  },
})

alert((new MySetter).get('foo'))       //=&gt; foo!
alert((new MySetter).get('foo:up'))    //=&gt; FOO!</code></pre></p><p>Other notes:</p><ul><li>Cloning a sqimitive is often as easy as doing <code>new MySqim(orig.get())</code>
sans <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_initToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_initToOpt</a> considerations. Don’t use <code>clone orig</code> (new object
will have wrong state, e.g. references to the original <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>).</li></ul><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-getnset" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">getnset</a></span></p><ul><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>) may be seen as public or private API at
user’s discretion. A complex class may opt for wrappers around these,
discouraging its users from direct access to options:
<pre><code class="chemdoc__block prism language-javascript match-braces">title: function () { return this.get('title') }</code></pre></li><li>See also Options overview (<a href="../p_ov.html#-opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">opt</a>).</li></ul><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-getmul" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">getmul</a></span></p><ul><li>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifgetSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">getSet</a><code>(['foo', 'bar'])</code> to retrieve multiple properties as an
array. Use <code>_.pick(this.get(), 'foo', 'bar', _.forceObject)</code> to
retrieve them as an object.</li></ul><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p>There are no guarantees in which order options would be iterated over.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifget---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5459-L5461" target="_blank">lines 5459-5461</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--ifget---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">get: function (opt) {
  return arguments.length ? this._opt[opt] : _.assign({}, this._opt)
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifgetSet"
                data-entity='{"type":"func","id":998,"name":"getSet","start":{"line":5367,"column":4,"offset":207482},"end":{"line":5392,"column":4,"offset":208542},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>getSet</b>
                              (
                  toGet [, toSet [, toReturn]] [, func[, cx]]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Performs <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a> and/or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> on multiple options.</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="2">toGet</th><td>string <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> name</td><td rowspan="2" colspan="1"></td></tr><tr><td> array of names</td></tr><tr class="chemdoc__first"><th rowspan="3">toSet</th><td>string <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> name</td><td rowspan="3" colspan="1"></td></tr><tr><td> array of names</td></tr><tr><td> null/omitted assume
<code class="chemdoc__id">toGet</code></td></tr><tr class="chemdoc__first"><th rowspan="3">toReturn</th><td>string <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> name</td><td rowspan="3" colspan="1"> Values for names prefixed with <code>-</code> are obtained before
setting <code class="chemdoc__id">toSet</code> (<code>-</code> is ignored by <code class="chemdoc__id">toGet</code>/<code class="chemdoc__id">toSet</code>).</td></tr><tr><td> array of names</td></tr><tr><td> null/omitted assume
<code class="chemdoc__id">toSet</code> </td></tr><tr class="chemdoc__first"><th rowspan="1">func</th><td rowspan="1" colspan="2"> Given <code class="chemdoc__id">G</code> arguments (<code class="chemdoc__id">G</code> = length of <code class="chemdoc__id">toGet</code>), returns an array
or a single value (if <code class="chemdoc__id">toSet</code> is a string) – option value(s) to set.
Returned array’s length must be ≤ length of <code class="chemdoc__id">toSet</code>. Missing members of
<code class="chemdoc__id">toSet</code> are not set.<p>If <code class="chemdoc__id">func</code> is missing sets every <code>toSet[N]</code> to <code>toGet[N]</code>. The length
of <code class="chemdoc__id">toSet</code> must be ≤ length of <code class="chemdoc__id">toGet</code>.</p></td></tr><tr class="chemdoc__first"><th rowspan="2">cx</th><td>object</td><td rowspan="2" colspan="1"> The context for <code class="chemdoc__id">func</code></td></tr><tr><td> null/omitted use <code class="chemdoc__id">this</code> </td></tr></table><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>array of values if <code class="chemdoc__id">toReturn</code> is an array</td><td rowspan="2" colspan="1"></td></tr><tr><td> mixed single value if not</td></tr></table><p>Other notes:</p><ul><li>Errors if called without arguments (without <code class="chemdoc__id">toGet</code>).</li><li><a id="-getmul" class="chemdoc__anchor chemdoc__anchor_token" href="#-getmul">getmul</a>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifgetSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">getSet</a><code>(['foo', 'bar'])</code> to retrieve multiple properties as an
array. Use <code>_.pick(this.get(), 'foo', 'bar', _.forceObject)</code> to
retrieve them as an object.</li></ul><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">// Multi-get() - but ensure given arrays have no properties beginning with '-':
sqim.getSet(['opt1', 'opt2', 'opt3'])
  //=&gt; [value of opt1, value of opt2, value of opt3]
  // Even though the above not only get()-s but also set()-s them,
  // unless a normalize_OPT returns a different value then no change
  // events are fired since each option is set to its current value.

// Returns new value of opt2 (same as value of opt1):
sqim.getSet('opt1', 'opt2')
// Similar but returns this:
sqim.set('opt2', sqim.get('opt1'))
// Similar but returns value of opt3, not opt2 (opt2 == opt1):
sqim.getSet('opt1', 'opt2', 'opt3')

// Value exchange:
sqim.getSet(['left', 'right'], ['right', 'left'])
// Equivalent to:
var temp = sqim.get('left')
sqim.set('left', sqim.get('right'))
sqim.set('right', temp)

// Temporary change:
var old = sqim.getSet(['foo', 'bar'])
try {
  // ...
} finally {
  sqim.getSet(['foo', 'bar'], () =&gt; old)
}</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Usage of <code>-</code>:
<pre><code class="chemdoc__block prism language-javascript match-braces">// toReturn defaults to toSet which defaults to toGet. Returns old + 1:
var newRound = sqim.getSet('round',  old =&gt; old + 1)

// Dash prefix in toReturn causes pre-toSet values to be returned (i.e. old):
var oldRound = sqim.getSet('round', 'round', '-round', old =&gt; old + 1)

// Given dashes in toGet/toSet are ignored, this is an equivalent:
var oldRound = sqim.getSet('-round', old =&gt; old + 1)</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Updating an option based on another option:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _opt: {money: 0, income: 10},
})

var newMoney = sqim.getSet(['money', 'income'], 'money',
                           (money, income) =&gt; money + income)
alert(newMoney)    //=&gt; 10

// Equivalent to:
var newMoney = sqim.get('money') + sqim.get('income')
sqim.set('money', newMoney)
alert(newMoney)</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Common idiom of re-applying <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT()</a>:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  _opt: {position: 0, max: 0},

  events: {
    change_max: function (now) {
      this.getSet('position')
    },

    '+normalize_position': function (res, now) {
      return Math.min(now, this.get('max'))
    },
  },
})

sqim.set('position', 10)
sqim.set('max', 5)
sqim.get('position')    //=&gt; 5</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifgetSet---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5368-L5393" target="_blank">lines 5368-5393</a> (26 lines)                                  &bull; <a href="#Sqimitive-Base--ifgetSet---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">getSet: function (toGet, toSet, toReturn, func, cx) {
  var args = Core.toArray(arguments)
  for (var i = 0; i <= 2; i++) {
    if (typeof args[i] == 'function') {
      args.splice(i, 0, args[i - 1])
    } else if (args[i] == null) {
      args[i] = args[i - 1]
    }
    // Array version of 1st/2nd/3rd argument, 0/1 with removed '-' prefix.
    var a = args['a' + i] = _.isArray(args[i]) ? args[i] : [args[i]]
    i < 2 && a.forEach(function (s, i) { a[i] = s.substr(s[0] == '-') })
  }
  var got = _.map(args.a0, this.get, this)
  var preGot = {}
  args.a2.forEach(function (opt, i) {
    opt[0] == '-' && (preGot[i] = this.get(opt.substr(1)))
  }, this)
  if (args[3]) {
    got = args[3].apply(args[4] || this, got)
    if (!_.isArray(args[1])) { got = [got] }
  }
  this.assignResp(_.object(args.a1, got), {schema: {}})
  return _.isArray(args[2])
    ? _.assign(_.map(args[2], this.get, this), preGot)
    : 0 in preGot ? preGot[0] : this.get(args[2])
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ififSet"
                data-entity='{"type":"func","id":1005,"name":"ifSet","start":{"line":5840,"column":4,"offset":224515},"end":{"line":5875,"column":4,"offset":225953},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>ifSet</b>
                              (
                  opt, value[, options]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Changes the value of one <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion and returns <code class="chemdoc__id">true</code> if it was
different from current.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>true if events were fired (value different or <code>options.forceFire</code>
set)</td><td rowspan="2" colspan="1"></td></tr><tr><td> false otherwise</td></tr></table><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.ifSet('key', 'foo')   //=&gt; true (changed)
sqim.ifSet('key', 'foo')   //=&gt; false (unchanged)
sqim.ifSet('key', 'foo', {forceFire: true})    //=&gt; true (forced change)</code></pre></fieldset><p><a id="-ifSetSet" class="chemdoc__anchor chemdoc__anchor_token" href="#-ifSetSet">ifSetSet</a>Fires <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> giving it <code class="chemdoc__id">value</code>; if the result is not <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual</a>
to <code>this._opt[opt]</code> or if <code>options.forceFire</code> is set – changes <code class="chemdoc__id">_opt</code>
and fires <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> event, then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>.</p><fieldset class="chemdoc__example"><legend>Example</legend>You can take advantage of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>’s return value to perform
interlocking operations saving a call to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a>:
<pre><code class="chemdoc__block prism language-javascript match-braces">if (sqim.ifSet('eventsBound', true)) {
  // eventsBound was previously not isEqual() and it was now changed to
  // true so we can do what we need, once until it changes to non-true
  // again.
}</code></pre>
…As a short form of writing:
<pre><code class="chemdoc__block prism language-javascript match-braces">if (!sqim.get('eventsBound')) {
  sqim.set('eventsBound', true)
  // ...
}</code></pre></fieldset><p>Other notes:</p><ul><li>Avoid <code class="chemdoc__id">forceFire</code> because it calls not only your object’s handlers
(which you expect) but also other instances’ (which you usually don’t).</li><li>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> which returns <code class="chemdoc__id">this</code> if you don’t care for the return value
but want method chaining.</li><li>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifgetSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">getSet()</a> if you want to update options based on other options
(e.g. increment a value).</li><li>Use <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch()</a> to assign related options and defer on-change behaviour.</li><li>There’s no <code>set()</code> version that writes multiple options at once. You
might be looking for <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>, possibly with <code class="chemdoc__id">schema</code> (useful when
assigning an API response): <code>assignResp(opts, {schema: {}})</code> -
equivalent to <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed bunch of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>-s. Generally, consider
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> if you find yourself writing a series of <code>set()</code>.</li><li>It is safe to change <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> from within <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>
handlers – they are written to <code>this._opt</code> immediately but subsequent
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> events are <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed in FIFO fashion (first
set – first fired). This preserves “incremental” update order but also
means that <code>set()</code> is not always immediately followed by a call to these
handlers.</li><li>Because <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> creates an implicit <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>
fired for <code class="chemdoc__id">OPT</code> receive the same <code>options.batchID</code> even if you don’t
wrap the <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> call into a <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch()</a>.</li><li><a id="-getnset" class="chemdoc__anchor chemdoc__anchor_token" href="#-getnset">getnset</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>) may be seen as public or private API at
user’s discretion. A complex class may opt for wrappers around these,
discouraging its users from direct access to options:
<pre><code class="chemdoc__block prism language-javascript match-braces">title: function () { return this.get('title') }</code></pre></li><li>See also Options overview (<a href="../p_ov.html#-opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">opt</a>).</li></ul><fieldset class="chemdoc__example"><legend>Example</legend>Overriding <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> is possible but most of the time <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> is
what you need:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MySetter = Sqimitive.Base.extend({
  _opt: {
    readOnly: 'foo',
  },

  events: {
    // Our handler will be called before the inherited ifSet() and
    // will prevent modification of this._opt.readOnly when they are
    // done via set/ifSet (i.e. the recommended way).
    //
    // Make sure not to hook '-set' because set() calls ifSet() and it
    // would be still possible to change 'readOnly' with
    // ifSet('readOnly', 'bar').
    '-ifSet': function (opt) {
      if (opt == 'readOnly') {
        throw new Error('You shouldn\'t really change what is called readOnly, you know?')
      }
    },

    // normalize_OPT would be better though:
    normalize_readOnly: function () {
      throw new Error('You shouldn\'t change what is called readOnly, you know!')
    },
  },
})</code></pre>
Hooking <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> specifically allows immediate, not <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed reaction
(but consider using <code>priority^</code> – see <a href="../Sqimitive/c_Core.html#-evtref" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">evtref</a>). <code class="chemdoc__id">options</code> will lack
some fields at this point though (<a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_batchOptions" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_batchOptions()</a>).
<pre><code class="chemdoc__block prism language-javascript match-braces">'-ifSet': function (opt, value, options) {
  console.log('Option ', opt, ' is about to change to ', value)
},</code></pre></fieldset><p><a id="-optpropag" class="chemdoc__anchor chemdoc__anchor_token" href="#-optpropag">optpropag</a><code class="chemdoc__id">options</code> can be used to propagate custom data to the handlers of
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT()</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change()</a>, and even back from them
(<code class="chemdoc__id">options</code> is always an object, possibly empty):
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  change_foo: function (now, options) {
    options.foo = 123
  },
})

var options = {}
sqim.set('foo', options)
alert(options.foo)       //=&gt; 123</code></pre></p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ififSet---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5841-L5876" target="_blank">lines 5841-5876</a> (36 lines)                                  &bull; <a href="#Sqimitive-Base--ififSet---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">ifSet: function (opt, value, options) {
  options || (options = {})
  var old = this._opt[opt]
  // This should be an event but for sloppy code check and call directly if
  // it's a method.
  var func = 'normalize_' + opt
  if (func in this) {
    this[func] && (norm = this[func](value, options))
  } else {
    // Hooks may exist with no func if _wrapUndeclared is false.
    var norm = this.fire(func, [value, options])
  }
  // undefined result can be made special since normalize_OPT is usually a
  // firer() and there's (almost) no way to return undefined from a hook
  // (see Core.fire()). If we did get undefined it means no hooks returned
  // any value, i.e. the original value is good.
  //
  // Consider this example where the only normalize_foo hook is used to
  // validate the value, not normalize it:
  //
  //   events: {
  //     normalize_foo: function (now) {
  //       if (!now) { throw new Error(...) }
  //     },
  norm === undefined || (value = norm)

  if (options.forceFire || !this.isEqual(value, old)) {
    this._opt[opt] = value
    this.batch(null, function (id) {
      options = this._batchOptions(id, options)
      this._batch.push(['change_' + opt, value, old, options])
      this._batch.push(['change',   opt, value, old, options])
    })
    return true
  }
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifinit"
                data-entity='{"type":"func","id":992,"name":"init","start":{"line":5120,"column":4,"offset":199077},"end":{"line":5137,"column":4,"offset":199653},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>init</b>
                              (
                  [opt]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p>Resolves <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> and sets <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ions from <code class="chemdoc__id">opt</code>.</p><p>Arguments of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit()</a> that follows it match those given
to the <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifconstructor" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_constructor" data-if-entity="977 chemdoc__link-entity-cur">constructor</a>, which in turn gets them from <code class="chemdoc__id">new</code>. Usually only
the first one (<code class="chemdoc__id">opt</code>) is used but you can use others:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.Base.extend({
  events: {
    init: function (opt, extra, fooArray) { ... },
  }
})

new MyClass({opt...}, 'extra', ['foo'])</code></pre></p><p>Options are set in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a> by giving <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> <code class="chemdoc__id">opt</code> (or <code>{}</code>) and
<code class="chemdoc__id">schema</code> of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_initToOpt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_initToOpt</a>. By default, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> keys missing from <code class="chemdoc__id">opt</code>
remain with the declaration-time values while <code>opt.el</code> is ignored even
if present.</p><p>Other notes:</p><ul><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> stores resolved relative <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> in the prototype of
<code class="chemdoc__id">this</code> so subsequent constructors of <code class="chemdoc__id">this</code>’ class no longer need to do
it.</li><li><a id="-initonce" class="chemdoc__anchor chemdoc__anchor_token" href="#-initonce">initonce</a>Both <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit()</a> are only called once in a given object’s
lifetime.</li></ul><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-plainstub" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">plainstub</a></span></p><ul><li>This method returns nothing.</li><li>It should not be called directly.</li></ul><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyClass = Sqimitive.Base.extend({
  _opt: {a: 1, b: 2},
})

new MyClass({b: 3, c: 4})
  // _opt is {a: 1, b: 3, c: 4}</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifinit---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5121-L5138" target="_blank">lines 5121-5138</a> (18 lines)                                  &bull; <a href="#Sqimitive-Base--ifinit---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">init: function (opt) {
  var childClass = this._childClass

  // Can't be string - converted to array by Core::extend().
  if (_.isArray(childClass)) {
    var path = childClass[1].split('.')
    childClass = childClass[0]
    while (childClass && path[0]) {
      childClass = childClass[path.shift()]
    }
    if (!childClass) {
      throw new ReferenceError('init: _childClass by path not found')
    }
    this.constructor.prototype._childClass = childClass
  }

  this.assignResp(opt, {schema: '_initToOpt'})
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifisEqual"
                data-entity='{"type":"func","id":1006,"name":"isEqual","start":{"line":5903,"column":4,"offset":226814},"end":{"line":5905,"column":4,"offset":226866},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>isEqual</b>
                              (
                  a, b                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Utilities" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Utilities</a></p><p>Returns <code class="chemdoc__id">true</code> if both arguments are “same enough” and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> should
not change <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> and fire <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a>.</p><p>Default implementation compares arguments using strict equality operator
(<code>===</code>).</p><p>Remember that in JavaScript, <code>NaN !== NaN</code> so <code>sqim.set('num', NaN)</code>
will fire <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> even if <code class="chemdoc__id">num</code> is already <code class="chemdoc__id">NaN</code>.</p><fieldset class="chemdoc__example"><legend>Example</legend>You can override <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a> to use <code>==</code> if you’re ready for flaky
behaviour (see <a href="https://squizzle.me/js/nodash/map.html#NoDash--ifisEqual" class="chemdoc__custom-link chemdoc__link-extchem chemdoc__link-extchem-no" target="_blank">no:isEqual</a>()). <a href="https://underscorejs.org/#isEqual" class="chemdoc__custom-link chemdoc__proto-un" target="_blank">un:isEqual</a>() is another option.
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyBase = Sqimitive.Base.extend({
  events: {
    '=isEqual': function (sup, a, b) {
      return _.isEqual(a, b)
    },
  },
})</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-normiseq" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">normiseq</a></span></p><fieldset class="chemdoc__example"><legend>Example</legend><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> fires <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a>, then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a>. The first operates in
context of specific <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion and has its result interpreted by
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a>, which in turn is option-agnostic.<p>For example, if <code class="chemdoc__id">foo</code> is an unordered array of numbers then
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> can prevent <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> if new value has the same
numbers by returning current value which by default <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual</a> (<code>===</code>)
to itself:
<pre><code class="chemdoc__block prism language-javascript match-braces">'+normalize_foo': function (res, value) {
  return (value = _.unique(value)) + '' == this.get('foo') ? this.get('foo') : value
},</code></pre>
On the other hand, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a> may prevent <code class="chemdoc__id">NaN</code> from being inequal to
itself, for all <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ions:
<pre><code class="chemdoc__block prism language-javascript match-braces">'+isEqual': function (res, a, b) {
  return res || (isNaN(a) &amp;&amp; isNaN(b))
},</code></pre></p></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifisEqual---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5904-L5906" target="_blank">lines 5904-5906</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--ifisEqual---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">isEqual: function (a, b) {
  return a === b
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifnest"
                data-entity='{"type":"func","id":1007,"name":"nest","start":{"line":5949,"column":4,"offset":228293},"end":{"line":5964,"column":4,"offset":228897},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>nest</b>
                              (
                  [key, ] sqim|opt [, options]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Adds a new child using a shorter syntax than <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><code class="chemdoc__id">sqim</code> </td><td rowspan="1" colspan="1"> The added child.</td></tr></table><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="3">key</th><td>string</td><td rowspan="3" colspan="1"> If omitted, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--if_defaultKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_defaultKey()</a> is used
which by default returns <code class="chemdoc__id">sqim</code>’s <a href="../Sqimitive/c_Core.html#Sqimitive-Core--iv_cid" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_cid</a> (unique instance identifier).</td></tr><tr><td> number</td></tr><tr><td> omitted </td></tr><tr class="chemdoc__first"><th rowspan="1">sqim</th><td>object </td><td rowspan="1" colspan="1"> New child to nest.</td></tr><tr class="chemdoc__first"><th rowspan="1">opt</th><td>object </td><td rowspan="1" colspan="1"> In place of <code class="chemdoc__id">sqim</code>, only when <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a> is not
<code class="chemdoc__id">Object</code> – a plain <code>{}</code> object of <code class="chemdoc__id">opt</code>’ions for <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a>’
constructor.</td></tr><tr class="chemdoc__first"><th rowspan="2">options</th><td>object</td><td rowspan="2" colspan="1"> Keys <code class="chemdoc__id">key</code> and <code class="chemdoc__id">child</code> are set by
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a></td></tr><tr><td> null/omitted </td></tr></table><fieldset class="chemdoc__example"><legend>Example</legend><code class="chemdoc__id">sqim</code> vs <code class="chemdoc__id">opt</code>:
<pre><code class="chemdoc__block prism language-javascript match-braces">var Parent = Sqimitive.Base.extend({
  // Inherited _childClass is Sqimitive.Base.
})

var parent = new Parent
parent.nest(new Sqimitive.Base({foo: 123}))
// Equivalent to:
parent.nest(new parent._childClass({foo: 123}))
// Equivalent to:
parent.nest({foo: 123})

// Constructing with default (no) opt:
parent.nest(new Sqimitive.Base())
// Equivalent to:
parent.nest({})</code></pre></fieldset><p>If you are overriding the “nesting” behaviour you should override
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx</a> instead of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest</a> which calls the former.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-nestExDesc" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">nestExDesc</a></span></p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.nest(new Sqimitive.Base)          // _parentKey = 'p123' (the _cid)
sqim.nest('key', new Sqimitive.Base)   // _parentKey = 'key'
// Same:
sqim.nestEx({key: 'key', child: new Sqimitive.Base})

sqim.unlist('key')
  // if sqim._owning is false - removes the child under 'key' if any,
  // else calls sqim.remove(); returns the found child or undefined</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>When hooking <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> to listen for changes (newly added sqimitives),
check <code>options.changed</code> to avoid triggering your update logic if
<code class="chemdoc__id">child</code> was already nested:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  events: {
    // WRONG: will re-render even if the child was already there:
    nestEx: 'render',

    // CORRECT:
    '+nestEx': function (options) {
      if (options.changed) { this.render() }
    },

    // CORRECT since nestEx() returns the same options object as
    // given as its first argument:
    nestEx: function (options) {
      if (options.changed) { this.render() }
    },
  },
})

var child = new Sqimitive.Base
col.nest(child)   // calls render()
col.nest(child)   // doesn't call
  // child is already under the same key (_defaultKey() returns
  // _cid which is constant for the lifetime of an object)</code></pre></fieldset><p>Other notes:</p><ul><li>There’s no <code>nest()</code> version that adds multiple children at once as you
would do in some kind of “sync” operation. You might be looking for
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> (useful when assigning an API response).</li><li>As with other <code class="chemdoc__id">options</code>-accepting methods (e.g. <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>), the
<code class="chemdoc__id">options</code> object may be used to propagate custom data to event listeners
(<a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>); <code class="chemdoc__id">options</code> are also passed through by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a>.</li></ul><h3 id="A9e6d0aeed8" class="chemdoc__h0">Internal operation</h3><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> checks and errors if <code>options.key</code> is an object of any
type (including <code class="chemdoc__id">null</code> or <code class="chemdoc__id">undefined</code>), or if <code>options.child</code> is of a
wrong class (not <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a>). Then it converts and sets
<code>options.key</code> to string, sets <code>options.previous</code> to the child
currently occupying <code class="chemdoc__id">key</code> (possibly <code class="chemdoc__id">undefined</code>) and sets
<code>options.changed</code> to <code class="chemdoc__id">false</code> if <code class="chemdoc__id">previous</code> is exactly <code class="chemdoc__id">child</code>.</p><p>If <code>options.changed</code> is <code class="chemdoc__id">false</code> then exits, otherwise:</p><ul><li>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> is <code class="chemdoc__id">true</code> (as it is by default), every child of <code class="chemdoc__id">this</code> can
have exactly one <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> thus forming a bi-directional tree (see
<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>). <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> on the old and new children (which
call <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> in turn) and updates <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> of the
new child.</li><li>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> is <code class="chemdoc__id">false</code>, children don’t know they are part of <code class="chemdoc__id">this</code>.
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> simply calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> on self if there was any previous
child at <code class="chemdoc__id">key</code>.</li></ul><p>Finally, if the child was nested (<code>options.changed</code> set), <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>
<a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_forward" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_forward</a>-s its <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a> and, if <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>, calls new <code class="chemdoc__id">child</code>’s
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifowned" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">owned()</a> to notify it of the parent change.</p><p>Observe that <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>:</p><ul><li>Does nothing if <code class="chemdoc__id">child</code> is already contained in this instance under the
same <code class="chemdoc__id">key</code>, i.e. when <code>options.previous == child</code> (<code class="chemdoc__id">changed</code> is
<code class="chemdoc__id">false</code>).</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest</a>-s and nests <code class="chemdoc__id">child</code> again if <code class="chemdoc__id">key</code> differs.</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifnest---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5950-L5965" target="_blank">lines 5950-5965</a> (16 lines)                                  &bull; <a href="#Sqimitive-Base--ifnest---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">nest: function (key, sqim, options) {
  var sqimIndex = +!(key instanceof Object)
  if (arguments[sqimIndex].constructor === Object &&
      this._childClass !== Object) {
    // function (..., opt, ...)
    arguments[sqimIndex] = new this._childClass(arguments[sqimIndex])
  }
  if (!sqimIndex) {   // function ( sqim|opt [, options] )
    ap.unshift.call(arguments, this._defaultKey(arguments[0]))
  }
  options = _.assign({}, arguments[2] || {}, {
    key:    arguments[0],
    child:  arguments[1],
  })
  return this.nestEx(options).child
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifnestEx"
                data-entity='{"type":"func","id":1010,"name":"nestEx","start":{"line":6076,"column":4,"offset":233853},"end":{"line":6110,"column":4,"offset":235010},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>nestEx</b>
                              (
                  options                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Adds a new child to self (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>), <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest</a>’ing the old one at the
same key (if any).</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object </td><td rowspan="1" colspan="1"> <code class="chemdoc__id">options</code> with added details about the operation.</td></tr></table><p>The caller must set these keys in <code class="chemdoc__id">options</code>:</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="1">child</th><td>object </td><td rowspan="1" colspan="1"> A sqimitive to nest.</td></tr><tr class="chemdoc__first"><th rowspan="2">key</th><td>string</td><td rowspan="2" colspan="1"> New <code>options.child</code>’s key in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a></td></tr><tr><td> number </td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> mutates and returns <code class="chemdoc__id">options</code> with updated keys:</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="1">key</th><td>string always</td><td rowspan="1" colspan="1"></td></tr><tr class="chemdoc__first"><th rowspan="2">previous</th><td>object</td><td rowspan="2" colspan="1"></td></tr><tr><td> undefined</td></tr><tr class="chemdoc__first"><th rowspan="1">changed</th><td>bool </td><td rowspan="1" colspan="1"> Whether any changes were done to the collection.</td></tr></table><p>Subclasses and <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a>-s can use other <code class="chemdoc__id">options</code> keys – for example,
<a href="../Sqimitive/c_Ordered.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Sqimitive\Ordered</a> receives insertion order in <code>options.pos</code> and
sets <code>options.index</code> on return.</p><p>After the call, old <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivlength" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">length</a> of self could be determined as follows:
<pre><code class="chemdoc__block prism language-javascript match-braces">this.length - (options.previous &amp;&amp; options.changed)</code></pre></p><p>In most cases <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest()</a> is more convenient to use as it allows omitting
<code>options.key</code> and avoiding object notation for <code class="chemdoc__id">options</code>.</p><fieldset class="chemdoc__example"><legend>Example</legend><a id="-nestExDesc" class="chemdoc__anchor chemdoc__anchor_token" href="#-nestExDesc">nestExDesc</a><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.nest(new Sqimitive.Base)          // _parentKey = 'p123' (the _cid)
sqim.nest('key', new Sqimitive.Base)   // _parentKey = 'key'
// Same:
sqim.nestEx({key: 'key', child: new Sqimitive.Base})

sqim.unlist('key')
  // if sqim._owning is false - removes the child under 'key' if any,
  // else calls sqim.remove(); returns the found child or undefined</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>When hooking <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> to listen for changes (newly added sqimitives),
check <code>options.changed</code> to avoid triggering your update logic if
<code class="chemdoc__id">child</code> was already nested:
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  events: {
    // WRONG: will re-render even if the child was already there:
    nestEx: 'render',

    // CORRECT:
    '+nestEx': function (options) {
      if (options.changed) { this.render() }
    },

    // CORRECT since nestEx() returns the same options object as
    // given as its first argument:
    nestEx: function (options) {
      if (options.changed) { this.render() }
    },
  },
})

var child = new Sqimitive.Base
col.nest(child)   // calls render()
col.nest(child)   // doesn't call
  // child is already under the same key (_defaultKey() returns
  // _cid which is constant for the lifetime of an object)</code></pre></fieldset><p>Other notes:</p><ul><li>There’s no <code>nest()</code> version that adds multiple children at once as you
would do in some kind of “sync” operation. You might be looking for
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a> (useful when assigning an API response).</li><li>As with other <code class="chemdoc__id">options</code>-accepting methods (e.g. <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>), the
<code class="chemdoc__id">options</code> object may be used to propagate custom data to event listeners
(<a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>); <code class="chemdoc__id">options</code> are also passed through by <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignChildren" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignChildren()</a>.</li></ul><h4 id="A9e6d0aeed8" class="chemdoc__h2">Internal operation</h4><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> checks and errors if <code>options.key</code> is an object of any
type (including <code class="chemdoc__id">null</code> or <code class="chemdoc__id">undefined</code>), or if <code>options.child</code> is of a
wrong class (not <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childClass" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childClass</a>). Then it converts and sets
<code>options.key</code> to string, sets <code>options.previous</code> to the child
currently occupying <code class="chemdoc__id">key</code> (possibly <code class="chemdoc__id">undefined</code>) and sets
<code>options.changed</code> to <code class="chemdoc__id">false</code> if <code class="chemdoc__id">previous</code> is exactly <code class="chemdoc__id">child</code>.</p><p>If <code>options.changed</code> is <code class="chemdoc__id">false</code> then exits, otherwise:</p><ul><li>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> is <code class="chemdoc__id">true</code> (as it is by default), every child of <code class="chemdoc__id">this</code> can
have exactly one <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> thus forming a bi-directional tree (see
<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>). <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> on the old and new children (which
call <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> in turn) and updates <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> of the
new child.</li><li>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> is <code class="chemdoc__id">false</code>, children don’t know they are part of <code class="chemdoc__id">this</code>.
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> simply calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> on self if there was any previous
child at <code class="chemdoc__id">key</code>.</li></ul><p>Finally, if the child was nested (<code>options.changed</code> set), <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>
<a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_forward" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_forward</a>-s its <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_childEvents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_childEvents</a> and, if <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>, calls new <code class="chemdoc__id">child</code>’s
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifowned" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">owned()</a> to notify it of the parent change.</p><p>Observe that <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a>:</p><ul><li>Does nothing if <code class="chemdoc__id">child</code> is already contained in this instance under the
same <code class="chemdoc__id">key</code>, i.e. when <code>options.previous == child</code> (<code class="chemdoc__id">changed</code> is
<code class="chemdoc__id">false</code>).</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest</a>-s and nests <code class="chemdoc__id">child</code> again if <code class="chemdoc__id">key</code> differs.</li><li><a id="-nestdup" class="chemdoc__anchor chemdoc__anchor_token" href="#-nestdup">nestdup</a>Always adds <code class="chemdoc__id">child</code> if <code class="chemdoc__id">this</code> is non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> so it may duplicate in
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>. To avoid this, hook <code>=nestEx</code> and call <code class="chemdoc__id">sup</code> (<a href="../Sqimitive/c_Core.html#-evtpf" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">evtpf</a>) only
if <code>!this.includes(options.child)</code> (<a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>).</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifnestEx---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6077-L6111" target="_blank">lines 6077-6111</a> (35 lines)                                  &bull; <a href="#Sqimitive-Base--ifnestEx---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">nestEx: function (options) {
  var sqim = options.child

  if (!(sqim instanceof this._childClass)) {
    throw new TypeError('nestEx: Nesting Sqimitive of wrong class')
  } else if (typeof options.key == 'object' ||    // object or null
             options.key === undefined) {
    throw new TypeError('nestEx: Bad key given')
  }

  // Object keys are always strings; _parentKey mismatching actual key will
  // break indexOf() if it's used on an array like _.keys(this._children).
  var key = options.key += ''
  var prev = options.previous = this._children[key]

  if (options.changed = prev !== sqim) {
    if (this._owning) {
      prev && prev.unnest()   // --this.length
      sqim.unnest()
      this._children[key] = sqim
      sqim._parent = this
      sqim._parentKey = key
      this.length++
    } else {
      this._children[key] = sqim
      prev ? this.unnested(prev, key) : this.length++
    }

    this._forward('.', this._childEvents, sqim)
    this._owning && sqim.owned()
  }

  this._nested(options)
  return options
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifnested"
                data-entity='{"type":"func","id":1018,"name":"nested","start":{"line":6423,"column":4,"offset":246082},"end":{"line":6433,"column":4,"offset":246445},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>nested</b>
                              (
                  [key]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Returns a single child by key or instance or all <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> (if no
argument).</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object all children if <code class="chemdoc__id">key</code> not given</td><td rowspan="3" colspan="1"></td></tr><tr><td> object the found child</td></tr><tr><td>
undefined if given <code class="chemdoc__id">key</code>/child isn’t nested in <code class="chemdoc__id">this</code></td></tr></table><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="3">key</th><td>omitted return a shallow copy of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a></td><td rowspan="3" colspan="1"></td></tr><tr><td> string or number
return the object at that key (case-sensitive) or <code class="chemdoc__id">null</code></td></tr><tr><td> object return
the argument itself if this object is nested as per <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a></td></tr></table><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.nested()   //=&gt; {childKey1: Sqimitive, ...}
sqim.nested('childKey1')    //=&gt; Sqimitive by its key
sqim.nested('foobarbaz!')   //=&gt; undefined - key not found in sqim._children

var child = sqim.nested('childKey1')
sqim.nested(child)          //=&gt; child by its object
sqim.nested(new Sqimitive)  //=&gt; undefined - object not listed in sqim._children</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>The object <code class="chemdoc__id">key</code> form allows using <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nested()</a> as <a href="https://squizzle.me/js/nodash/map.html#NoDash--ifincludes" class="chemdoc__custom-link chemdoc__link-extchem chemdoc__link-extchem-no" target="_blank">no:includes</a>()
(<a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>) to check if a child is part of the collection:
<pre><code class="chemdoc__block prism language-javascript match-braces">if (col.nested(sqim)) {
  // ...
}</code></pre></fieldset><p><a id="-parentkeyowning" class="chemdoc__anchor chemdoc__anchor_token" href="#-parentkeyowning">parentkeyowning</a>Note: key only matches the child’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> if <code class="chemdoc__id">this</code> is <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>,
else it may differ.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p>Order of keys in the returned <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>’s copy may be unpredictable.</p><p><a id="-nestedslice" class="chemdoc__anchor chemdoc__anchor_token" href="#-nestedslice">nestedslice</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nested()</a> without arguments returns an object – children with keys.
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a> returns an array – children only, dropping their keys.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifnested---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6424-L6434" target="_blank">lines 6424-6434</a> (11 lines)                                  &bull; <a href="#Sqimitive-Base--ifnested---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">nested: function (key) {
  if (!arguments.length) {
    return _.assign({}, this._children)
  } else if (key == null) {
    // Return undefined - neither keys nor children can be null.
  } else if (!(key instanceof Object)) {
    return this._children[key + '']
  } else if (this.findKey(key) != null) {
    return key
  }
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifnormalize_OPT"
                data-entity='{"type":"func","id":1002,"name":"normalize_OPT","start":{"line":5495,"column":4,"offset":211727},"end":{"line":5608,"column":4,"offset":216054},"forced":true,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>normalize_OPT</b>
                              (
                  value, options                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Called to normalize and/or validate new <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion <code class="chemdoc__id">value</code> before it’s
set. Returning <code class="chemdoc__id">undefined</code> keeps it unchanged.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> fires an event named “normalize_” + the option’s name before
the value is actually set to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>. Here you should clean it up (e.g.
trim whitespace) or throw an error if it has a wrong format (e.g. not
<code>YYYY-MM-DD</code> for dates).</p><p><a id="-normopt" class="chemdoc__anchor chemdoc__anchor_token" href="#-normopt">normopt</a><code class="chemdoc__id">options</code> is the object originally given to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>.</p><fieldset class="chemdoc__example"><legend>Example</legend>Removing spaces and converting to lower case: <pre><code class="chemdoc__block prism language-javascript match-braces">var MyNorm = Sqimitive.Base.extend({
  _opt: {
    stringie: '',
  },

  // Now 'stringie' is guaranteed to have no surrounding whitespace
  // and be lower case - as long as it's not written directly as
  // this._opt.stringie, which is a bad idea in general.
  normalize_stringie: function (value) {
    return _.trim(value).toLowerCase()
  },
})

var str = (new MyNorm)
  .set('stringie', '  Foo\n')
  .get('stringie')
    //=&gt; 'Foo'</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend><a id="-normiseq" class="chemdoc__anchor chemdoc__anchor_token" href="#-normiseq">normiseq</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> fires <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a>, then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a>. The first operates in
context of specific <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion and has its result interpreted by
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a>, which in turn is option-agnostic.<p>For example, if <code class="chemdoc__id">foo</code> is an unordered array of numbers then
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> can prevent <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> if new value has the same
numbers by returning current value which by default <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual</a> (<code>===</code>)
to itself:
<pre><code class="chemdoc__block prism language-javascript match-braces">'+normalize_foo': function (res, value) {
  return (value = _.unique(value)) + '' == this.get('foo') ? this.get('foo') : value
},</code></pre>
On the other hand, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual()</a> may prevent <code class="chemdoc__id">NaN</code> from being inequal to
itself, for all <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ions:
<pre><code class="chemdoc__block prism language-javascript match-braces">'+isEqual': function (res, a, b) {
  return res || (isNaN(a) &amp;&amp; isNaN(b))
},</code></pre></p></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>Validating new value (see the sample To-Do application for a complete
primer): <pre><code class="chemdoc__block prism language-javascript match-braces">var MyValid = Sqimitive.Base.extend({
  _opt: {
    date: null,    //= Date or 'YYYY-MM-DD'¹
  },

  normalize_date: function (value) {
    if (!(value instanceof Date) &amp;&amp;
        (value = value.trim().match(/^(\d{4})-(\d\d)-(\d\d)$/))) {
      value = new Date(value[1], value[2] - 1, value[3])
    }
    if (!(value instanceof Date)) {
      throw new TypeError('Bad date format')
    }
    return value
  },
})

;(new MyValid).set('date', new Date)       // works
;(new MyValid).set('date', '2020-02-20')   // works
;(new MyValid).set('date', 'whatchadoin')  // TypeError</code></pre><p>¹ It’s customary in Sqimitive to leave a comment explaining
non-trivial options’ types or formats.</p></fieldset><p>Unlike with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>/<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a>, there is no global normalization
function (since every option usually needs a unique approach) but you can
override <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> if you need this.</p><p>Remember: when defined in <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ivevents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">events</a>, function’s return value is ignored
unless <code>=</code> or <code>+</code> prefixes are used (<a href="../Sqimitive/c_Core.html#-evtpf" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">evtpf</a>). Also, see <a href="../p_ov.html#-evtconc" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evtconc</a> and
<a href="../Sqimitive/c_Core.html#-es6this" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">es6this</a>.
<pre><code class="chemdoc__block prism language-javascript match-braces">Sqimitive.Base.extend({
  events: {
    // WRONG: return value is ignored:
    normalize_stringie:    function (value) { return _.trim(value) },
    // CORRECT: adding handler after others:
    '+normalize_stringie': function (res, value) { return _.trim(value) },
    // CORRECT: adding handler instead of others:
    '=normalize_stringie': function (sup, value) { return _.trim(value) },
  },

  // CORRECT, but only if no normalize_string is defined in any base
  // class (see #evtconc):
  normalize_stringie: function (value) { return _.trim(value) },
})</code></pre></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-setoptpropag" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">setoptpropag</a></span></p><fieldset class="chemdoc__example"><legend>Example</legend>Propagation of <code class="chemdoc__id">options</code> (<a href="../Sqimitive/c_Base.html#-optpropag" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">optpropag</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">sqim.on('change_foo', function (now, old, options) {
  if (!options.noSync) {
    $.ajax({
      url: 'update',
      type: 'POST',
      data: this.get(),
    })
  }
})

// The handler above performs an AJAX request:
sqim.ifSet('foo', 123)

// But not now (set() passes options through to ifSet()):
sqim.set('foo', 123, {noSync: true})

// assignResp() passes options to set() so no request is performed too:
sqim.assignResp({foo: 123}, {noSync: true})</code></pre></fieldset></div>
                                          <p class="cp-member__file "
                 id="Sqimitive-Base--ifnormalize_OPT---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5496-L5496" target="_blank">line 5496</a>                              </p>
                          </dd>
                      <dt id="Sqimitive-Base--ifowned"
                data-entity='{"type":"func","id":1012,"name":"owned","start":{"line":6180,"column":4,"offset":237695},"end":{"line":6217,"column":4,"offset":238978},"forced":true,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>owned</b>
                              (
                                  )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Called after <code class="chemdoc__id">this</code> instance has been <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nest</a>’ed into an <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a>
sqimitive (changed parents or got a first <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>).</p><p>By the time <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifowned" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">owned</a> is called <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> of self are
already set to new values.</p><p>See also <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> that gets called before <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> is changed/removed.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyChild = Sqimitive.Base.extend({
  events: {
    // Will append this.el to parent's .some-point node as soon as
    // this instance gets a new parent. If you want to do this in
    // production though, look for the attachPath _opt'ion of
    // Sqimitive\jQuery.
    owned: function () {
      this.attach(this._parent.$('.some-point'))
    },
  },
})</code></pre></fieldset><p>Other notes:</p><ul><li><a id="-plainstub" class="chemdoc__anchor chemdoc__anchor_token" href="#-plainstub">plainstub</a>This method returns nothing.</li><li>It should not be called directly.</li><li>It’s defined as <a href="../Sqimitive/c_Core.html#Sqimitive-Core--sfstub" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_static" data-if-entity="909 chemdoc__link-entity-cur">stub</a> in <a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a> which lets Sqimitive remove this
function instead of calling it as a handler doing nothing when a new
handler is registered for this event (e.g. in a subclass via <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ivevents" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">events</a> as
in the example above).</li></ul></div>
                                          <p class="cp-member__file "
                 id="Sqimitive-Base--ifowned---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6181-L6181" target="_blank">line 6181</a>                              </p>
                          </dd>
                      <dt id="Sqimitive-Base--ifpostInit"
                data-entity='{"type":"func","id":995,"name":"postInit","start":{"line":5139,"column":4,"offset":199661},"end":{"line":5180,"column":4,"offset":201080},"forced":true,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>postInit</b>
                              (
                  opt                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p>Called after <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> to bootstrap the new instance after
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifconstructor" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_constructor" data-if-entity="977 chemdoc__link-entity-cur">constructor</a>’ing.</p><p>Logically, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init</a> is part of the object construction while <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit</a> is
part of its lifecycle; while <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init</a> is inseparable from <code class="chemdoc__id">new</code>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit</a>
could be called at a later time (in theory) so it should not make the
object inconsistent. Thinking about it that way helps to decide which of
the two events to hook.</p><p>Usually <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> creates and configures related objects (DOM nodes,
collections, etc.) while <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit()</a> starts timers, resource preloading,
etc. This way you don’t depend on the order of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> handlers (it may
so happen that the <code class="chemdoc__id">init</code> handler of a subclass is executed before the
inherited <code class="chemdoc__id">init</code> of its base class, when internal objects are not yet
initialized).</p><p>Other notes:</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-initonce" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">initonce</a></span></p><ul><li>Both <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifinit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">init()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit()</a> are only called once in a given object’s
lifetime.</li><li><a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a> does nothing in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifpostInit" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">postInit()</a>.</li></ul><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MySqimitive = Sqimitive.Base.extend({
  _button: null,

  events: {
    init: function () {
      this._button = this.nest(new MyButton)
    },

    postInit: function () {
      this._button.startAnimation()
    },
  },
})</code></pre></fieldset></div>
                                          <p class="cp-member__file "
                 id="Sqimitive-Base--ifpostInit---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5140-L5140" target="_blank">line 5140</a>                              </p>
                          </dd>
                      <dt id="Sqimitive-Base--ifremove"
                data-entity='{"type":"func","id":1025,"name":"remove","start":{"line":6654,"column":4,"offset":254723},"end":{"line":6656,"column":4,"offset":254776},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>remove</b>
                              (
                                  )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a>, <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p>Removes <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a> and calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><a id="-baseRemove" class="chemdoc__anchor chemdoc__anchor_token" href="#-baseRemove">baseRemove</a>object </td><td rowspan="1" colspan="1"> <code class="chemdoc__id">this</code></td></tr></table><p><a id="-rmvsunn" class="chemdoc__anchor chemdoc__anchor_token" href="#-rmvsunn">rmvsunn</a>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> when an object is temporary elided from the hierarchy
(e.g. because it’s changing parents). Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a> when it’s completely
destroyed and its “view” (DOM node, etc.) is no longer needed. By
convention, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a> is also used on <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>-less objects (where it’s
identical to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> in effect) to convey the intention of destroying
them.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var child = new Sqimitive.Base({el: '&lt;p&gt;Some text.&lt;/p&gt;'})
var parent = new Sqimitive.Base({el: '&lt;article&gt;'})
parent.nest(child).attach(parent.el)
  // now we have &lt;article&gt;&lt;p&gt;Some text.&lt;/p&gt;&lt;/article&gt;

child.unnest()
  // we still have &lt;article&gt;&lt;p&gt;Some text.&lt;/p&gt;&lt;/article&gt; even though
  // child is no more listed under parent._children

// But if we would have done this:
child.remove()
  // we would have &lt;article&gt;&lt;/article&gt; with the child removed from
  // both the parent's _children list and from its the parent's el</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-elstub" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">elstub</a></span></p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Sqimitive\Base</a> doesn’t define any element-related functionality but
only provides stubs for several common fields (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a>,
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a>, etc.) for standardized extension. See <a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ivel" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.el</a>
for one such subclass.</p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a> simply calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a>.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifremove---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6655-L6657" target="_blank">lines 6655-6657</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--ifremove---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">remove: function () {
  return this.unnest()
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifrender"
                data-entity='{"type":"func","id":996,"name":"render","start":{"line":5233,"column":4,"offset":202802},"end":{"line":5236,"column":4,"offset":202874},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>render</b>
                              (
                                  )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Lifecycle" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Lifecycle</a></p><p>Populate from scratch or update the object’s “view” – <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><a id="-renderAttach" class="chemdoc__anchor chemdoc__anchor_token" href="#-renderAttach">renderAttach</a><a id="-baseAttach" class="chemdoc__anchor chemdoc__anchor_token" href="#-baseAttach">baseAttach</a>object </td><td rowspan="1" colspan="1"> <code class="chemdoc__id">this</code></td></tr></table><p>Here’s a typical Sqimitive object lifecycle:</p><ul><li>construct with <code class="chemdoc__id">new</code>: <code>new Class({opt...})</code></li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifattach" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">attach()</a> (to DOM, etc.), for members – when nested to a collection</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a> when required for user to see it first time</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a> again when something changes that affects the visual
presentation (usually in response to a <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> of some <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion)</li><li>finally, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a></li></ul><p>Complete re-rendering on change is simple and adequate for many simple
sqimitives but if it’s heavy, it’s customary to perform a partial update
using method(s) named <code>update()</code>. There are no such methods by default
but see <a href="../p_ov.html#-vw" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">vw</a> for an example.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var Label = Sqimitive.jQuery.extend({
  _opt: {caption: 'untitled'},

  events: {
    render: function () {
      this.el.text(this.get('caption'))
    },

    change_caption: 'render',
  },
})
                                    // Lifecycle:
;(new Label)                        // 1) construct
  .attach('body')                   // 2) attach
  .render()                         // 3) render
  .set('caption', 'render again!')  // 4) update</code></pre></fieldset><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-elstub" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">elstub</a></span></p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Sqimitive\Base</a> doesn’t define any element-related functionality but
only provides stubs for several common fields (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a>,
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a>, etc.) for standardized extension. See <a href="../Sqimitive/c_jQuery.html#Sqimitive-jQuery--ivel" class="chemdoc__custom-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="882 chemdoc__link-entity-cur">Sqimitive\jQuery.el</a>
for one such subclass.</p><p><a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifrender" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">render()</a> calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifattach" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">attach()</a> on all children of self (but not
on self).</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifrender---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5234-L5237" target="_blank">lines 5234-5237</a> (4 lines)                                  &bull; <a href="#Sqimitive-Base--ifrender---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">render: function () {
  this.invoke('attach')
  return this
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifset"
                data-entity='{"type":"func","id":1001,"name":"set","start":{"line":5488,"column":4,"offset":211541},"end":{"line":5491,"column":4,"offset":211639},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>set</b>
                              (
                  opt, value[, options]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Options" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Options</a></p><p>Changes the value of one <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a>’ion and returns <code class="chemdoc__id">this</code>.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> is identical to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> except the latter returns
<code class="chemdoc__id">true</code>/<code class="chemdoc__id">false</code> indicating if the new value was different from the old one
or <code>options.forceFire</code> was set.</p><p>If you are overriding the “setter” behaviour you should override <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet</a>
instead of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set</a> which calls the former.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">sqim.set('key', 'foo')     //=&gt; this

// Fires normalize/change_key/change despite the fact that old key's
// value is the same:
sqim.set('key', 'foo', {forceFire: true})</code></pre></fieldset><p>The description of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> follows.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-ifSetSet" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">ifSetSet</a></span></p><p>Fires <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> giving it <code class="chemdoc__id">value</code>; if the result is not <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifisEqual" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">isEqual</a>
to <code>this._opt[opt]</code> or if <code>options.forceFire</code> is set – changes <code class="chemdoc__id">_opt</code>
and fires <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> event, then <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>.</p><fieldset class="chemdoc__example"><legend>Example</legend>You can take advantage of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>’s return value to perform
interlocking operations saving a call to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a>:
<pre><code class="chemdoc__block prism language-javascript match-braces">if (sqim.ifSet('eventsBound', true)) {
  // eventsBound was previously not isEqual() and it was now changed to
  // true so we can do what we need, once until it changes to non-true
  // again.
}</code></pre>
…As a short form of writing:
<pre><code class="chemdoc__block prism language-javascript match-braces">if (!sqim.get('eventsBound')) {
  sqim.set('eventsBound', true)
  // ...
}</code></pre></fieldset><p>Other notes:</p><ul><li>Avoid <code class="chemdoc__id">forceFire</code> because it calls not only your object’s handlers
(which you expect) but also other instances’ (which you usually don’t).</li><li>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> which returns <code class="chemdoc__id">this</code> if you don’t care for the return value
but want method chaining.</li><li>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifgetSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">getSet()</a> if you want to update options based on other options
(e.g. increment a value).</li><li>Use <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch()</a> to assign related options and defer on-change behaviour.</li><li>There’s no <code>set()</code> version that writes multiple options at once. You
might be looking for <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a>, possibly with <code class="chemdoc__id">schema</code> (useful when
assigning an API response): <code>assignResp(opts, {schema: {}})</code> -
equivalent to <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed bunch of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a>-s. Generally, consider
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifassignResp" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">assignResp()</a> if you find yourself writing a series of <code>set()</code>.</li><li>It is safe to change <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_opt</a> from within <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> or <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>
handlers – they are written to <code>this._opt</code> immediately but subsequent
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a> events are <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed in FIFO fashion (first
set – first fired). This preserves “incremental” update order but also
means that <code>set()</code> is not always immediately followed by a call to these
handlers.</li><li>Because <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> creates an implicit <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change_OPT</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifchange" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">change</a>
fired for <code class="chemdoc__id">OPT</code> receive the same <code>options.batchID</code> even if you don’t
wrap the <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> call into a <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch()</a>.</li><li><a id="-getnset" class="chemdoc__anchor chemdoc__anchor_token" href="#-getnset">getnset</a><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifget" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">get()</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifset" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">set()</a> (<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a>) may be seen as public or private API at
user’s discretion. A complex class may opt for wrappers around these,
discouraging its users from direct access to options:
<pre><code class="chemdoc__block prism language-javascript match-braces">title: function () { return this.get('title') }</code></pre></li><li>See also Options overview (<a href="../p_ov.html#-opt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">opt</a>).</li></ul><fieldset class="chemdoc__example"><legend>Example</legend>Overriding <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> is possible but most of the time <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnormalize_OPT" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">normalize_OPT</a> is
what you need:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MySetter = Sqimitive.Base.extend({
  _opt: {
    readOnly: 'foo',
  },

  events: {
    // Our handler will be called before the inherited ifSet() and
    // will prevent modification of this._opt.readOnly when they are
    // done via set/ifSet (i.e. the recommended way).
    //
    // Make sure not to hook '-set' because set() calls ifSet() and it
    // would be still possible to change 'readOnly' with
    // ifSet('readOnly', 'bar').
    '-ifSet': function (opt) {
      if (opt == 'readOnly') {
        throw new Error('You shouldn\'t really change what is called readOnly, you know?')
      }
    },

    // normalize_OPT would be better though:
    normalize_readOnly: function () {
      throw new Error('You shouldn\'t change what is called readOnly, you know!')
    },
  },
})</code></pre>
Hooking <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ififSet" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">ifSet()</a> specifically allows immediate, not <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifbatch" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">batch</a>’ed reaction
(but consider using <code>priority^</code> – see <a href="../Sqimitive/c_Core.html#-evtref" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">evtref</a>). <code class="chemdoc__id">options</code> will lack
some fields at this point though (<a href="../Sqimitive/c_Core.html#Sqimitive-Core--if_batchOptions" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg mmods-fg_protected" data-if-entity="909 chemdoc__link-entity-cur">_batchOptions()</a>).
<pre><code class="chemdoc__block prism language-javascript match-braces">'-ifSet': function (opt, value, options) {
  console.log('Option ', opt, ' is about to change to ', value)
},</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifset---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L5489-L5492" target="_blank">lines 5489-5492</a> (4 lines)                                  &bull; <a href="#Sqimitive-Base--ifset---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">set: function (opt, value, options) {
  this.ifSet(opt, value, options)
  return this
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifsink"
                data-entity='{"type":"func","id":1032,"name":"sink","start":{"line":7339,"column":4,"offset":283167},"end":{"line":7343,"column":4,"offset":283330},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>sink</b>
                              (
                  func, args, onSelf                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Events" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Events</a></p><p>Calls the method <code class="chemdoc__id">func</code> with arguments <code class="chemdoc__id">args</code> on all nested <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>
(recursively) and optionally <code class="chemdoc__id">onSelf</code>.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-bubsin" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">bubsin</a></span></p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>this</td><td rowspan="1" colspan="1"></td></tr></table><p>If <code class="chemdoc__id">onSelf</code> is <code class="chemdoc__id">true</code> then first calls <code class="chemdoc__id">func</code> on <code class="chemdoc__id">this</code>, if defined.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifbubble" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">bubble()</a> proceeds upstream while <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifsink" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">sink()</a> descends downstream.
However, the first walks only <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> sqimitives (since it’s using
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a>) while the second works for non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> too (since it’s using
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>).</p><p>You can “recursively” fire events as well since events typically create
methods (<a href="../p_ov.html#-evt" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">evt</a>; see <code>_wrapHandler()</code>’s source code for details).</p><p>Note that it might get quite intense with heavy nesting.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">// Recursively causes all nested views and self to be rendered:
sqim.sink('render', []. true)

// Recursively calls remove() on self, all children and their
// children, removing every single sqimitive from its parent (useful
// when removing a parent el doesn't automatically free resources of
// its children like it does in DOM):
sqim.sink('invoke', ['remove'], true)

// We can use it to serialize the entire tree:
var serialized = []
sqim.sink('saveTo', [serialized])
localStorage.setItem('saved', JSON.stringify(serialized))
// Now if children implement something like this then serialized will
// contain a portable representation of the current hierarchy (without
// self):
child.on('saveTo', function (ser) { ser.push(this.get()) })</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifsink---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L7340-L7344" target="_blank">lines 7340-7344</a> (5 lines)                                  &bull; <a href="#Sqimitive-Base--ifsink---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">sink: function (func, args, onSelf) {
  onSelf && this[func] && this[func].apply(this, args)
  this.invoke('sink', func, args, true)
  return this
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifslice"
                data-entity='{"type":"func","id":1019,"name":"slice","start":{"line":6491,"column":4,"offset":248868},"end":{"line":6498,"column":4,"offset":249208},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>slice</b>
                              (
                  [start [, end]]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Utilities" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Utilities</a></p><p>Treats this instance’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> as an ordered array and returns a
portion of it.</p><p><code class="chemdoc__id">start</code> defaults to 0, <code class="chemdoc__id">end</code> – to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivlength" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">length</a> + 1.</p><p>Attention: the <code class="chemdoc__id">end</code> index is not included into result. If <code>start ==
end</code> then an empty array is always returned.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">slice()       // get all children; toArray() does the same
slice(1, 2)   // get 2nd child as an array
slice(-1)     // get last child as an array; last() is more convenient
slice(5, 8)   // get 6th and 7th children as an array; no 8th!
slice(0, 0)   // start == end - always an empty array
slice(1, -1)  // get all children except the first and last</code></pre></fieldset><p>Along with <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivlength" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">length</a>, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a> makes sqimitives look like an array and so
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a>’s interface is the same as <code class="chemdoc__id">Array</code>’s <code>slice()</code>:
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" class="chemdoc__custom-link chemdoc__proto-https" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice</a></p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-nestedslice" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">nestedslice</a></span></p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nested()</a> without arguments returns an object – children with keys.
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a> returns an array – children only, dropping their keys.</p><h3 id="A10616cbbd2" class="chemdoc__h1">Unordered objects warning</h3><p class="chemdoc__anchor-inclusion"><span>from <a href="../p__7ibvkbid.html#-unordered" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">unordered</a></span></p><p>Attention: JavaScript objects are unordered, as explained in the description of <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a>.</p><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a> may return entries in arbitrary order.</p><p>It should not be used unless special measures were taken to make this
instance properly ordered or if the caller doesn’t care for child order
(but then it should never use a positive <code class="chemdoc__id">start</code> as there are no
guarantees which child will be at that index).</p><p>Use either the <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a> <a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifmixIn" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">mixIn</a> (and see <a href="../Sqimitive/c_Ordered.html#Sqimitive-Ordered--ifat" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">at()</a>) or override <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a>
to sort <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> based on some criteria before taking a portion of it
(this may be slower than <a href="../Sqimitive/c_Ordered.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="1033 chemdoc__link-entity-cur">Ordered</a> that maintains sort order as children
come and go without resorting on every call to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a>):
<pre><code class="chemdoc__block prism language-javascript match-braces">events: {
  '=slice': function (sup, start, end) {
    var sorter = function (a, b) { return a.get('pos') - b.get('pos') }
    return sup(this).sort(sorter).slice(start, end)
    // WRONG: do not use any #util functions to avoid recursion:
    return this.toArray()...
  }
}</code></pre></p><p>Making <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice()</a> “ordered” is enough to make the Sqimitive ordered
because <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifslice" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">slice</a> is used by all other functions that treat <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> as
an array (<code>each()</code>, <code>find()</code> and others, see <a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a>).</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifslice---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6492-L6499" target="_blank">lines 6492-6499</a> (8 lines)                                  &bull; <a href="#Sqimitive-Base--ifslice---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">slice: function (start, end) {
  // _.values(), _.toArray(), Object.keys(), etc. return values in arbitrary
  // order. The Base Sqimitive is unordered.
  //
  // Warning: do not replace _.values() with this.toArray() since the latter
  // calls this.slice().
  return _.values(this._children).slice(start, end)
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifsort"
                data-entity='{"type":"func","id":1023,"name":"sort","start":{"line":6581,"column":4,"offset":252224},"end":{"line":6583,"column":4,"offset":252310},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>sort</b>
                              (
                  func [, cx]                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Utilities" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Utilities</a></p><p>Returns <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> as an array in order specified by comparison <code class="chemdoc__id">func</code>.</p><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="1">func</th><td>function </td><td rowspan="1" colspan="1"> Receives two members, must return <code>-1</code>/<code>+1</code> if first
member should go before/after second or <code>0</code> if order doesn’t matter
(may cause non-deterministic result).</td></tr><tr class="chemdoc__first"><th rowspan="2">cx</th><td>object</td><td rowspan="2" colspan="1"> The context for <code class="chemdoc__id">func</code></td></tr><tr><td> null/omitted use <code class="chemdoc__id">this</code> </td></tr></table><p>This differs from standard <code class="chemdoc__id">Array</code>’s <code>sort()</code> that works in-place and
doesn’t accept <code class="chemdoc__id">cx</code>.</p><p>Use <code>sortBy()</code> <a href="../p_util.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_page mmods-fg " data-if-entity="799 chemdoc__link-entity-cur">util</a> to compare based on weight values returned by
<code class="chemdoc__id">func</code>.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">nest({foo: 5})
nest({foo: 1})
sort(function (a, b) { return a.get('foo') - b.get('foo') })
  //=&gt; [ {foo: 1}, {foo: 5} ]
sortBy(function (a) { return a.get('foo') })
  //=&gt; same order</code></pre></fieldset></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifsort---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6582-L6584" target="_blank">lines 6582-6584</a> (3 lines)                                  &bull; <a href="#Sqimitive-Base--ifsort---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">sort: function (func, cx) {
  return this.slice().sort(func.bind(cx || this))
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifunlist"
                data-entity='{"type":"func","id":1013,"name":"unlist","start":{"line":6245,"column":4,"offset":240072},"end":{"line":6265,"column":4,"offset":240476},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>unlist</b>
                              (
                  key                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Removes a child by its key or instance from own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td>object removed sqimitive</td><td rowspan="2" colspan="1"></td></tr><tr><td> undefined nothing found</td></tr></table><table class="chemdoc__entity-table chemdoc__entity-args">
<caption>Arguments</caption>
<thead>
  <tr>
    <th>Name</th>
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><th rowspan="3">key</th><td>string or number key which to clear</td><td rowspan="3" colspan="1"></td></tr><tr><td> null to do nothing</td></tr><tr><td>
object instance to remove as per <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iffindKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">findKey()</a></td></tr></table><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">collection.unlist('foo')    //=&gt; Sqimitive or undefined
collection.unlist(collection.nested('foo'))   // identical to above
collection.unlist(child)    //=&gt; Sqimitive (child) or undefined</code></pre></fieldset><p>If <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> is set (as it is by default) calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a>, else deletes
the key in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a> and calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> on self.</p><p>Does nothing if this <code class="chemdoc__id">key</code>/child is not contained (returns <code class="chemdoc__id">undefined</code>).</p><p>See also <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> which is called on the child (not on the parent
object). However, it’s only usable in <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> collections since there’s
no reverse child → parent relationship in non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> mode.</p></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifunlist---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6246-L6266" target="_blank">lines 6246-6266</a> (21 lines)                                  &bull; <a href="#Sqimitive-Base--ifunlist---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">unlist: function (key) {
  if (key instanceof Object) {
    key = this.findKey(key)
  }

  if (key != null) {
    var sqim = this._children[key += '']
  }

  if (sqim) {
    if (this._owning) {
      sqim.remove()
    } else {
      delete this._children[key]
      --this.length
      this.unnested(sqim, key)
    }
  }

  return sqim
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifunnest"
                data-entity='{"type":"func","id":1014,"name":"unnest","start":{"line":6322,"column":4,"offset":242614},"end":{"line":6332,"column":4,"offset":242894},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>unnest</b>
                              (
                                  )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Removes this instance from its <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> object, if any.</p><table class="chemdoc__entity-table chemdoc__entity-type">
<caption>Result Types</caption>
<thead>
  <tr>
    
    <th>Types</th>
    <th>Notes</th>
  </tr>
</thead>
<tbody><tr class="chemdoc__first"><td><code class="chemdoc__id">this</code></td><td rowspan="1" colspan="1"></td></tr></table><p><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> does nothing if <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> of <code class="chemdoc__id">this</code> is already <code class="chemdoc__id">null</code> (i.e.
not owned).</p><p>Note: it normally doesn’t remove own <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a> from its parent node – use
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a> for this.</p><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-rmvsunn" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">rmvsunn</a></span></p><p>Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> when an object is temporary elided from the hierarchy
(e.g. because it’s changing parents). Use <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a> when it’s completely
destroyed and its “view” (DOM node, etc.) is no longer needed. By
convention, <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifremove" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">remove()</a> is also used on <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ivel" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">el</a>-less objects (where it’s
identical to <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> in effect) to convey the intention of destroying
them.</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var child = new Sqimitive.Base({el: '&lt;p&gt;Some text.&lt;/p&gt;'})
var parent = new Sqimitive.Base({el: '&lt;article&gt;'})
parent.nest(child).attach(parent.el)
  // now we have &lt;article&gt;&lt;p&gt;Some text.&lt;/p&gt;&lt;/article&gt;

child.unnest()
  // we still have &lt;article&gt;&lt;p&gt;Some text.&lt;/p&gt;&lt;/article&gt; even though
  // child is no more listed under parent._children

// But if we would have done this:
child.remove()
  // we would have &lt;article&gt;&lt;/article&gt; with the child removed from
  // both the parent's _children list and from its the parent's el</code></pre></fieldset><fieldset class="chemdoc__example"><legend>Example</legend>A child reacting to its unnesting:
<pre><code class="chemdoc__block prism language-javascript match-braces">var MyChild = Sqimitive.Base.extend({
  events: {
    '-unnest': function () {
      // this._parent and _parentKey are still set if this instance
      // was attached to any parent, otherwise they are null.
      this._parent &amp;&amp; alert("I am about to be... unnested! :'(")
    },

    unnest: function () {
      // At this point _parent and _parentKey are certainly null but
      // there's no telling if they will remain so - or if this
      // instance had any parent before unnest() was called.
      alert('I am now as free as the wind!')
    },

    // In contrast to the above, here we can reliably determine if
    // this sqimitive was previously nested and if it was - do
    // something after it was unnested by calling the inherited
    // implementation via sup.
    '=unnest': function (sup) {
      var hadParent = this._parent != null
      sup(this, arguments)
      hadParent &amp;&amp; alert('I was abducted but you saved me!')
      return res
    },
  },
})</code></pre></fieldset><p>Other notes:</p><ul><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> can be called when <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> is already <code class="chemdoc__id">null</code>; one such
example is <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> that unconditionally calls <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> on new
child.</li><li><a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a> clears <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> and calls
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested</a><code>(this)</code> on the former parent.</li><li>This effectively creates a new detached tree (if <code class="chemdoc__id">this</code> has nested
<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_children" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_children</a>) or a leaf (if not) – more in Children concept (<a href="../p_ov.html#-chld" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_anchor mmods-fg " data-if-entity="797 chemdoc__link-entity-cur">chld</a>).</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifunnest---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6323-L6333" target="_blank">lines 6323-6333</a> (11 lines)                                  &bull; <a href="#Sqimitive-Base--ifunnest---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">unnest: function () {
  var parent = this._parent
  if (parent) {
    var key = this._parentKey
    delete parent._children[key]
    this._parent = this._parentKey = null
    --parent.length
    parent.unnested(this, key)
  }
  return this
},</code></pre>
                          </dd>
                      <dt id="Sqimitive-Base--ifunnested"
                data-entity='{"type":"func","id":1017,"name":"unnested","start":{"line":6370,"column":4,"offset":244187},"end":{"line":6377,"column":4,"offset":244412},"forced":null,"modifiers":[],"file":"main.js"}'
                class="cp-member__header">
              <b>unnested</b>
                              (
                  sqim, key                )
                          </dt>
            <dd class="cp-member__info">
                                            <div class="fmt"><p class="chemdoc__anchor-addendum">Part of: <a href="../p__7ibvkbid.html#-tag_Nesting" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="794 chemdoc__link-entity-cur">tag_Nesting</a></p><p>Called right after a child (<code class="chemdoc__id">sqim</code>) was detached from its parent (<code class="chemdoc__id">this</code>)
where it was listed under <code class="chemdoc__id">key</code>.</p><p><a id="-unnestedoff" class="chemdoc__anchor chemdoc__anchor_token" href="#-unnestedoff">unnestedoff</a><a href="../Sqimitive/c_Base.html" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_class mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">Base</a>’s implementation of <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> calls <code class="chemdoc__id">sqim</code>.<a href="../Sqimitive/c_Core.html#Sqimitive-Core--ifoff" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">off</a>(<code class="chemdoc__id">this</code>) to
unregister all event handlers that might have been previously attached to
the removed child by this instance (provided they were not hardwired with
<a href="../Sqimitive/c_Core.html#Sqimitive-Core--iffuse" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="909 chemdoc__link-entity-cur">fuse()</a> and used <code>cx === this</code>).</p><p>By the time <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested</a> is called, <code class="chemdoc__id">sqim</code>’s <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parent" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parent</a> and <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_parentKey" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_parentKey</a> are
already <code class="chemdoc__id">null</code>.</p><p>Former <code class="chemdoc__id">key</code> is useful for non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> collections, especially when it
may have duplicates (same child object under different keys).</p><fieldset class="chemdoc__example"><legend>Example</legend><pre><code class="chemdoc__block prism language-javascript match-braces">var MyParent = Sqimitive.Base.extend({
  events: {
    unnested: function (sqim, key) {
      alert('Whence thou goeth, my ' + key + '...')
    },
  },
})</code></pre></fieldset><p>Other notes:</p><ul><li>For <a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> collections <a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnested" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnested()</a> is called by <code class="chemdoc__id">sqim</code>.<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunnest" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unnest()</a>.</li><li>For non-<a href="../Sqimitive/c_Base.html#Sqimitive-Base--iv_owning" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_var mmods-fg mmods-fg_protected" data-if-entity="977 chemdoc__link-entity-cur">_owning</a> it’s called by <code class="chemdoc__id">this</code>.<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifunlist" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">unlist()</a> and by
<code class="chemdoc__id">this</code>.<a href="../Sqimitive/c_Base.html#Sqimitive-Base--ifnestEx" class="chemdoc__anchor-link chemdoc__link-entity member-fg member-fg_func mmods-fg " data-if-entity="977 chemdoc__link-entity-cur">nestEx()</a> when nesting a new child under an occupied key.</li></ul><p class="chemdoc__anchor-inclusion"><span>from <a href="../Sqimitive/c_Base.html#-plainstub" class="chemdoc__link-entity chemdoc__anchor-link" data-if-entity="977 chemdoc__link-entity-cur">plainstub</a></span></p><ul><li>This method returns nothing.</li><li>It should not be called directly.</li></ul></div>
                                          <p class="cp-member__file def-snip__hdr"
                 id="Sqimitive-Base--ifunnested---code">
                Defined in:
                main.js, <a href="https://github.com/ProgerXP/Sqimitive/blob/e3ca0da61659b8f47cfead401e705fef592f15b8/main.js#L6371-L6378" target="_blank">lines 6371-6378</a> (8 lines)                                  &bull; <a href="#Sqimitive-Base--ifunnested---code" class="def-snip__toggler">Show code</a>
                              </p>
                                              <pre class="def-snip__code"><code class="code_block prism language-javascript match-braces">unnested: function (sqim, key) {
  sqim.off(this)
  this._unnested(sqim, key)

  if (this.length < 0 && console && console.error) {
    console.error('Broken nesting: sqimitive.length below zero')
  }
},</code></pre>
                          </dd>
                  </dl>
      </div>


<footer class="footer">
      <span class="footer__group">
      ⁂
              <a href="https://squizzle.me/js/sqimitive/">
            Sqimitive</a>    </span>
    <span class="footer__group">
    <a href="#">Scroll to top</a>
  </span>
  <span class="footer__group">
    Generated by
    <a href="http://squizzle.me/chem" target="_blank">Chem &amp; Chemdoc</a>
  </span>
  <span class="footer__group">
    2022-12-25  </span>
  <span class="footer__group">
    Typo?
    <a href="https://github.com/ProgerXP/Orphus" target="_blank">Ctrl+Enter</a>
  </span>
</footer>
    <script src="../scripts.js"></script>

          <link rel="stylesheet" href="../prism.css">
      <script src="../prism.js"></script>
      <script>
        Prism.plugins.customClass.prefix('prism__')
      </script>
    
        <script src="../entities.js"></script>
  </body>
</html>
